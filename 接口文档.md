è¯·æŸ¥çœ‹å¹¶æ›´æ–°æ¥å£æ–‡æ¡£.mdæ–‡ä»¶ï¼ŒåŒ…å«æœ¬æ¬¡å¼€å‘çš„æ–°æ¥å£ï¼š
1. åç«¯APIï¼šæ–°å¢/ä¿®æ”¹çš„ç«¯ç‚¹ã€å‚æ•°å’Œè¿”å›æ ¼å¼
2. å‰ç«¯ç»„ä»¶ï¼šæ–°åˆ›å»ºç»„ä»¶çš„propsã€eventså’Œä½¿ç”¨æ–¹æ³•
3. æ•°æ®æ¨¡å‹ï¼šæ–°å¢/ä¿®æ”¹çš„å®ä½“ç»“æ„å’Œå…³ç³»
4. åœ°å›¾äº¤äº’ï¼šæ–°å¢åœ°å›¾åŠŸèƒ½å’Œæ•°æ®æ ¼å¼

ä¿æŒæ–‡æ¡£æ ¼å¼ç»Ÿä¸€ï¼Œä½¿ç”¨markdownè¡¨æ ¼æˆ–ä»£ç å—å±•ç¤ºæ¥å£ç»†èŠ‚ã€‚

## å‰ç«¯ç»„ä»¶

### HomeView
```vue
ä¸»é¡µé¢ç»„ä»¶ï¼Œç›®å‰ä¸ºåŸºç¡€ç»“æ„
<template>
  <div class="home">
    <h1>æ­¦æ±‰ç¾é£Ÿåœ°å›¾</h1>
    <p>æ¬¢è¿ä½¿ç”¨æ­¦æ±‰ç¾é£Ÿåœ°å›¾ç³»ç»Ÿ</p>
    <div class="actions">
      <router-link to="/map" class="map-btn">æŸ¥çœ‹åœ°å›¾</router-link>
      <router-link to="/stats" class="stats-btn">æŸ¥çœ‹ç»Ÿè®¡</router-link>
      <router-link to="/food-culture" class="culture-btn">ç¾é£Ÿæ–‡åŒ–</router-link>
      <router-link to="/food-routes" class="routes-btn">ç¾é£Ÿè·¯çº¿</router-link>
    </div>
  </div>
</template>
```

### MapView
```vue
åœ°å›¾é¡µé¢ç»„ä»¶ï¼Œé›†æˆMapContainerå’ŒFilterPanel
<template>
  <div class="map-view">
    <div class="header">
      <h1>æ­¦æ±‰ç¾é£Ÿåœ°å›¾</h1>
      <p>æ¢ç´¢æ­¦æ±‰ç‰¹è‰²ç¾é£Ÿåœ°ç‚¹</p>
    </div>
    <div class="filter-container">
      <FilterPanel />
    </div>
    <div class="map-container-wrapper">
      <MapContainer />
    </div>
  </div>
</template>
```

### MapContainer
```vue
åœ°å›¾å®¹å™¨ç»„ä»¶ï¼Œè´Ÿè´£æ¸²æŸ“å’Œæ§åˆ¶Mapboxåœ°å›¾
<template>
  <div>
    <div id="map" class="map-container"></div>
    <div class="map-controls">
      <button @click="zoomIn" class="map-control-btn">+</button>
      <button @click="zoomOut" class="map-control-btn">-</button>
      <button @click="resetView" class="map-control-btn">âŸ³</button>
    </div>
    <!-- é¤å…è¯¦æƒ…é¢æ¿ -->
    <div v-if="selectedRestaurant" class="restaurant-panel">
      <RestaurantInfo 
        :restaurant="selectedRestaurant" 
        @close="closeRestaurantInfo" 
      />
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| mapInstance | ref | åœ°å›¾å®ä¾‹å¼•ç”¨ |
| initialCenter | Array | åˆå§‹åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡ [ç»åº¦, çº¬åº¦] |
| initialZoom | Number | åˆå§‹ç¼©æ”¾çº§åˆ« |
| filteredRestaurants | ref | å½“å‰ç­›é€‰åçš„é¤å…æ•°æ® |
| selectedRestaurant | ref | å½“å‰é€‰ä¸­çš„é¤å… |
| isLoading | ref | åŠ è½½çŠ¶æ€æ ‡å¿— |
| error | ref | é”™è¯¯ä¿¡æ¯ |
| markers | ref | é¤å…æ ‡è®°é›†åˆ |
| zoomIn() | Function | æ”¾å¤§åœ°å›¾ |
| zoomOut() | Function | ç¼©å°åœ°å›¾ |
| resetView() | Function | é‡ç½®åœ°å›¾è§†å›¾åˆ°åˆå§‹çŠ¶æ€ |
| fetchRestaurants() | Function | è·å–æ‰€æœ‰é¤å…æ•°æ® |
| showRestaurantDetails(id) | Function | æ˜¾ç¤ºé¤å…è¯¦æƒ… |
| closeRestaurantInfo() | Function | å…³é—­é¤å…è¯¦æƒ… |
| addCustomLocationMarker(id, coords, type) | Function | åœ¨åœ°å›¾ä¸Šæ·»åŠ è‡ªå®šä¹‰ä½ç½®æ ‡è®°ï¼Œå¹¶å­˜å‚¨åæ ‡ä¿¡æ¯ |
| handleMapClick(e) | Function | å¤„ç†åœ°å›¾ç‚¹å‡»äº‹ä»¶ï¼ŒåŒ…æ‹¬ä½ç½®é€‰æ‹©åŠŸèƒ½ |

### FilterPanel
```vue
ç­›é€‰é¢æ¿ç»„ä»¶ï¼Œæä¾›ç­›é€‰å’Œæœç´¢åŠŸèƒ½
<template>
  <div class="filter-panel">
    <div class="search-container">
      <input
        type="text"
        v-model="searchQuery"
        placeholder="æœç´¢é¤å…åç§°..."
        class="search-input"
        @input="handleSearch"
      />
      <button class="search-btn" @click="handleSearch">
        <span>ğŸ”</span>
      </button>
    </div>
    
    <div class="filter-container">
      <div class="filter-group">
        <h4>åŒºåŸŸç­›é€‰</h4>
        <select v-model="selectedDistrict" class="filter-select" @change="applyFilters">
          <option value="">æ‰€æœ‰åŒºåŸŸ</option>
          <option v-for="district in districtList" :key="district" :value="district">
            {{ district }}
          </option>
        </select>
      </div>
      
      <div class="filter-group">
        <h4>ç¾é£Ÿç±»å‹</h4>
        <select v-model="selectedFoodType" class="filter-select" @change="applyFilters">
          <option value="">æ‰€æœ‰ç±»å‹</option>
          <option v-for="foodType in foodTypeList" :key="foodType" :value="foodType">
            {{ foodType }}
          </option>
        </select>
      </div>
    </div>
    
    <div class="filter-actions">
      <button class="reset-btn" @click="resetFilters">é‡ç½®ç­›é€‰</button>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| searchQuery | ref | æœç´¢å…³é”®è¯ |
| selectedDistrict | ref | å½“å‰é€‰ä¸­çš„åŒºåŸŸ |
| selectedFoodType | ref | å½“å‰é€‰ä¸­çš„ç¾é£Ÿç±»å‹ |
| districtList | computed | åŒºåŸŸåˆ—è¡¨ |
| foodTypeList | computed | ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| handleSearch() | Function | å¤„ç†æœç´¢æ“ä½œ |
| applyFilters() | Function | åº”ç”¨ç­›é€‰æ¡ä»¶ |
| resetFilters() | Function | é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶ |

### RestaurantInfo
```vue
é¤å…è¯¦æƒ…ç»„ä»¶ï¼Œæ˜¾ç¤ºé¤å…è¯¦ç»†ä¿¡æ¯
<template>
  <div v-if="restaurant" class="restaurant-info">
    <div class="restaurant-header">
      <h3>{{ restaurant.name }}</h3>
      <span class="food-type">{{ restaurant.food_type }}</span>
    </div>
    
    <div v-if="restaurant.image_url" class="restaurant-image">
      <img :src="restaurant.image_url" :alt="restaurant.name">
    </div>
    
    <div class="restaurant-details">
      <!-- åœ°å€ã€ç”µè¯ç­‰ä¿¡æ¯ -->
    </div>
    
    <button class="close-btn" @click="$emit('close')">å…³é—­</button>
  </div>
</template>
```

**å±æ€§ä¸äº‹ä»¶**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurant | Object (prop) | é¤å…è¯¦æƒ…å¯¹è±¡ï¼Œå¿…é¡»æä¾› |
| close | Event | å…³é—­è¯¦æƒ…é¢æ¿äº‹ä»¶ |

### RestaurantMarker
```vue
é¤å…æ ‡è®°ç»„ä»¶ï¼Œç”¨äºæ˜¾ç¤ºé¤å…åœ¨åœ°å›¾ä¸Šçš„ä½ç½®
<template>
  <div class="marker-container">
    <div 
      class="map-marker"
      :class="{ 'active': isActive }"
      @click="handleMarkerClick"
    >
      <span class="icon">ğŸœ</span>
    </div>
  </div>
</template>
```

**å±æ€§ä¸äº‹ä»¶**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurant | Object (prop) | é¤å…å¯¹è±¡ï¼Œå¿…é¡»æä¾› |
| isActive | Boolean (prop) | æ˜¯å¦å¤„äºé€‰ä¸­çŠ¶æ€ |
| click | Event | ç‚¹å‡»æ ‡è®°äº‹ä»¶ï¼Œè¿”å›é¤å…å¯¹è±¡ |

### FoodCultureView
```vue
ç¾é£Ÿæ–‡åŒ–é¡µé¢ç»„ä»¶ï¼Œå±•ç¤ºæ­¦æ±‰ç‰¹è‰²ç¾é£Ÿæ–‡åŒ–
<template>
  <div class="food-culture-view">
    <h1 class="page-title">æ­¦æ±‰ç¾é£Ÿæ–‡åŒ–</h1>
    
    <!-- ç­›é€‰éƒ¨åˆ† -->
    <div class="filter-container">
      <div class="filter-group">
        <label>ç¾é£Ÿç±»å‹:</label>
        <select v-model="selectedFoodType" @change="applyFilters">
          <option value="">æ‰€æœ‰ç±»å‹</option>
          <option v-for="type in foodTypes" :key="type" :value="type">{{ type }}</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label>å‘æºåœ°åŒº:</label>
        <select v-model="selectedDistrict" @change="applyFilters">
          <option value="">æ‰€æœ‰åœ°åŒº</option>
          <option v-for="district in originDistricts" :key="district" :value="district">{{ district }}</option>
        </select>
      </div>
      
      <button class="reset-btn" @click="resetFilters">é‡ç½®ç­›é€‰</button>
    </div>
    
    <!-- å†…å®¹å±•ç¤º -->
    <div v-if="!loading && !error" class="content-container">
      <!-- ç¾é£Ÿæ–‡åŒ–å¡ç‰‡å±•ç¤º -->
      <div v-if="!selectedFoodCulture" class="food-culture-grid">
        <div 
          v-for="food in filteredFoodCultures" 
          :key="food.id" 
          class="food-culture-card"
          @click="showFoodCultureDetails(food.id)"
        >
          <!-- ç¾é£Ÿå¡ç‰‡å†…å®¹ -->
        </div>
      </div>
      
      <!-- ç¾é£Ÿæ–‡åŒ–è¯¦æƒ… -->
      <div v-else class="food-culture-detail">
        <!-- ç¾é£Ÿè¯¦æƒ…å†…å®¹ -->
      </div>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| foodCultureStore | Store | ç¾é£Ÿæ–‡åŒ–Piniaå­˜å‚¨ |
| selectedFoodType | ref | å½“å‰é€‰æ‹©çš„ç¾é£Ÿç±»å‹ |
| selectedDistrict | ref | å½“å‰é€‰æ‹©çš„å‘æºåœ°åŒº |
| loading | computed | åŠ è½½çŠ¶æ€è®¡ç®—å±æ€§ |
| error | computed | é”™è¯¯ä¿¡æ¯è®¡ç®—å±æ€§ |
| foodTypes | computed | ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| originDistricts | computed | å‘æºåœ°åŒºåˆ—è¡¨ |
| filteredFoodCultures | computed | ç­›é€‰åçš„ç¾é£Ÿæ–‡åŒ–åˆ—è¡¨ |
| selectedFoodCulture | computed | å½“å‰é€‰ä¸­çš„ç¾é£Ÿæ–‡åŒ– |
| fetchData() | Function | è·å–æ‰€æœ‰æ•°æ® |
| applyFilters() | Function | åº”ç”¨ç­›é€‰æ¡ä»¶ |
| resetFilters() | Function | é‡ç½®ç­›é€‰æ¡ä»¶ |
| showFoodCultureDetails(id) | Function | æ˜¾ç¤ºç¾é£Ÿæ–‡åŒ–è¯¦æƒ… |
| clearSelectedFoodCulture() | Function | æ¸…é™¤é€‰ä¸­çš„ç¾é£Ÿæ–‡åŒ– |
| truncateText(text, maxLength) | Function | æˆªæ–­æ–‡æœ¬ï¼Œé˜²æ­¢è¿‡é•¿ |
| goToRestaurant(id) | Function | è·³è½¬åˆ°é¤å…è¯¦æƒ… |

### FoodRouteView
```vue
ç¾é£Ÿè·¯çº¿é¡µé¢ç»„ä»¶ï¼Œå±•ç¤ºæ­¦æ±‰ä¸€æ—¥ç¾é£Ÿçº¿è·¯æ¨è
<template>
  <div class="food-route-view">
    <h1 class="page-title">æ­¦æ±‰ä¸€æ—¥ç¾é£Ÿçº¿è·¯</h1>
    
    <!-- ç­›é€‰éƒ¨åˆ† -->
    <div class="filter-container">
      <div class="filter-group">
        <label>åŒºåŸŸç­›é€‰:</label>
        <select v-model="selectedDistrict" @change="fetchFoodRoutes">
          <option value="">æ‰€æœ‰åŒºåŸŸ</option>
          <option v-for="district in districts" :key="district" :value="district">{{ district }}</option>
        </select>
      </div>
    </div>
    
    <!-- å†…å®¹å±•ç¤º -->
    <div v-if="!loading && !error" class="content-container">
      <!-- è·¯çº¿åˆ—è¡¨å±•ç¤º -->
      <div v-if="!selectedRoute" class="route-cards">
        <div 
          v-for="route in foodRoutes" 
          :key="route.id" 
          class="route-card"
          @click="showRouteDetails(route.id)"
        >
          <!-- è·¯çº¿å¡ç‰‡å†…å®¹ -->
        </div>
      </div>
      
      <!-- è·¯çº¿è¯¦æƒ… -->
      <div v-else class="route-detail">
        <!-- è·¯çº¿è¯¦æƒ…å†…å®¹ -->
        <div id="route-map" class="route-map"></div>
        <!-- ç«™ç‚¹åˆ—è¡¨ -->
      </div>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| foodCultureStore | Store | ç¾é£Ÿæ–‡åŒ–Piniaå­˜å‚¨ |
| map | ref | åœ°å›¾å®ä¾‹å¼•ç”¨ |
| selectedDistrict | ref | å½“å‰é€‰æ‹©çš„åŒºåŸŸ |
| districts | ref | åŒºåŸŸåˆ—è¡¨ |
| loading | computed | åŠ è½½çŠ¶æ€è®¡ç®—å±æ€§ |
| error | computed | é”™è¯¯ä¿¡æ¯è®¡ç®—å±æ€§ |
| foodRoutes | computed | ç¾é£Ÿè·¯çº¿åˆ—è¡¨ |
| selectedRoute | computed | å½“å‰é€‰ä¸­çš„ç¾é£Ÿè·¯çº¿ |
| fetchDistricts() | Function | è·å–åŒºåŸŸåˆ—è¡¨ |
| fetchFoodRoutes() | Function | è·å–ç¾é£Ÿè·¯çº¿åˆ—è¡¨ |
| fetchData() | Function | è·å–æ‰€æœ‰æ•°æ® |
| showRouteDetails(id) | Function | æ˜¾ç¤ºè·¯çº¿è¯¦æƒ… |
| clearSelectedRoute() | Function | æ¸…é™¤é€‰ä¸­çš„è·¯çº¿ |
| goToRestaurant(id) | Function | è·³è½¬åˆ°é¤å…è¯¦æƒ… |
| truncateText(text, maxLength) | Function | æˆªæ–­æ–‡æœ¬ï¼Œé˜²æ­¢è¿‡é•¿ |
| initMap() | Function | åˆå§‹åŒ–åœ°å›¾ï¼Œæ˜¾ç¤ºè·¯çº¿å’Œç«™ç‚¹ |

## åç«¯API

### è·å–é¤å…åˆ—è¡¨

```
GET /api/restaurants/
```

**æŸ¥è¯¢å‚æ•°**
- `district`: (å¯é€‰) æŒ‰åŒºåŸŸç­›é€‰
- `food_type`: (å¯é€‰) æŒ‰ç¾é£Ÿç±»å‹ç­›é€‰
- `query`: (å¯é€‰) æŒ‰åç§°æˆ–æè¿°æœç´¢

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "image_url": "http://example.com/image1.jpg"
  },
  {
    // å…¶ä»–é¤å…...
  }
]
```

### è·å–é¤å…è¯¦æƒ…

```
GET /api/restaurants/<id>
```

**è·¯å¾„å‚æ•°**
- `id`: é¤å…ID

**å“åº”**
```json
{
  "id": 1,
  "name": "é»„é¹¤æ¥¼å°åƒåº—",
  "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
  "latitude": 30.5433,
  "longitude": 114.3008,
  "phone": "027-88888888",
  "food_type": "æ¹–åŒ—èœ",
  "description": "ä»¥çƒ­å¹²é¢ã€è±†çš®ç­‰æ­¦æ±‰ç‰¹è‰²å°åƒä¸ºä¸»",
  "image_url": "http://example.com/image1.jpg",
  "business_hours": "å‘¨ä¸€è‡³å‘¨æ—¥ 9:00-22:00",
  "district": "æ­¦æ˜ŒåŒº"
}
```

### è·å–åŒºåŸŸåˆ—è¡¨

```
GET /api/restaurants/districts
```

**å“åº”**
```json
[
  "æ­¦æ˜ŒåŒº",
  "æ±‰é˜³åŒº",
  "æ±Ÿæ±‰åŒº",
  "æ±Ÿå²¸åŒº",
  "ç¡šå£åŒº",
  "æ´ªå±±åŒº"
]
```

### è·å–ç¾é£Ÿç±»å‹åˆ—è¡¨

```
GET /api/restaurants/food-types
```

**å“åº”**
```json
[
  "æ¹–åŒ—èœ",
  "å·èœ",
  "ç²¤èœ",
  "è¥¿é¤",
  "å°åƒ",
  "çƒ§çƒ¤"
]
```

### è·å–é™„è¿‘é¤å…

```
GET /api/restaurants/nearby
```

**æŸ¥è¯¢å‚æ•°**
- `lat`: (å¿…é¡») çº¬åº¦
- `lng`: (å¿…é¡») ç»åº¦
- `distance`: (å¯é€‰) åŠå¾„èŒƒå›´ï¼Œå•ä½ä¸ºå…¬é‡Œï¼Œé»˜è®¤ä¸º2

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "distance_km": 0.25,
    "image_url": "http://example.com/image1.jpg"
  },
  {
    // å…¶ä»–é™„è¿‘é¤å…...
  }
]
```

### åŒºåŸŸå†…é¤å…

```
GET /api/restaurants/bbox
```

**æŸ¥è¯¢å‚æ•°**
- `min_lat`: (å¿…é¡») æœ€å°çº¬åº¦
- `min_lng`: (å¿…é¡») æœ€å°ç»åº¦
- `max_lat`: (å¿…é¡») æœ€å¤§çº¬åº¦
- `max_lng`: (å¿…é¡») æœ€å¤§ç»åº¦

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "image_url": "http://example.com/image1.jpg"
  },
  {
    // åŒºåŸŸå†…å…¶ä»–é¤å…...
  }
]
```

### æŒ‰åŒºåŸŸç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-district
```

**å“åº”**
```json
[
  {
    "district": "æ­¦æ˜ŒåŒº",
    "count": 3
  },
  {
    "district": "æ´ªå±±åŒº",
    "count": 2
  },
  // å…¶ä»–åŒºåŸŸç»Ÿè®¡...
]
```

### è·å–æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-food-type
```

**å“åº”**
```json
[
  {
    "food_type": "æ¹–åŒ—èœ",
    "count": 2
  },
  {
    "food_type": "çƒ§çƒ¤",
    "count": 1
  },
  // å…¶ä»–ç±»å‹ç»Ÿè®¡...
]
```

### è·å–æŒ‰åŒºåŸŸå’Œç¾é£Ÿç±»å‹äº¤å‰ç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-district-food-type
```

**æŸ¥è¯¢å‚æ•°**
- `food_type`: (å¯é€‰) æŒ‰ç‰¹å®šç¾é£Ÿç±»å‹ç­›é€‰

**å“åº”**
```json
{
  "categories": ["æ­¦æ˜ŒåŒº", "æ±‰é˜³åŒº", "æ±Ÿæ±‰åŒº", "æ´ªå±±åŒº"],
  "series": [
    {
      "name": "æ¹–åŒ—èœ",
      "data": [3, 2, 1, 2]
    },
    {
      "name": "å·èœ",
      "data": [1, 3, 2, 0]
    },
    {
      "name": "å°åƒ",
      "data": [2, 1, 3, 2]
    }
  ]
}
```

### è·å–è·¯çº¿è§„åˆ’

```
GET /api/routes/
```

**æŸ¥è¯¢å‚æ•°**
- `start_lng`: (å¿…é¡») èµ·ç‚¹ç»åº¦
- `start_lat`: (å¿…é¡») èµ·ç‚¹çº¬åº¦
- `end_lng`: (å¿…é¡») ç»ˆç‚¹ç»åº¦
- `end_lat`: (å¿…é¡») ç»ˆç‚¹çº¬åº¦
- `mode`: (å¯é€‰) å‡ºè¡Œæ–¹å¼ï¼Œå¯é€‰å€¼ï¼šwalking(æ­¥è¡Œ)ã€driving(é©¾è½¦)ã€transit(å…¬äº¤)ï¼Œé»˜è®¤ä¸ºwalking

**å“åº”**
```json
{
  "distance": 1500,
  "duration": 1200,
  "geometry": {
    "type": "LineString",
    "coordinates": [
      [114.3008, 30.5433],
      [114.3015, 30.5440],
      // å…¶ä»–è·¯å¾„ç‚¹...
      [114.3100, 30.5500]
    ]
  },
  "steps": [
    {
      "distance": 100,
      "duration": 80,
      "instruction": "å‘ä¸œæ­¥è¡Œ100ç±³",
      "maneuver": "depart"
    },
    {
      "distance": 200,
      "duration": 160,
      "instruction": "å³è½¬è¿›å…¥è§£æ”¾å¤§é“",
      "maneuver": "turn-right"
    },
    // å…¶ä»–æ­¥éª¤...
    {
      "distance": 0,
      "duration": 0,
      "instruction": "åˆ°è¾¾ç›®çš„åœ°",
      "maneuver": "arrive"
    }
  ]
}
```

### è·å–ç¾é£Ÿæ–‡åŒ–åˆ—è¡¨

```
GET /api/food-culture/
```

**æŸ¥è¯¢å‚æ•°**
- `food_type`: (å¯é€‰) æŒ‰ç¾é£Ÿç±»å‹ç­›é€‰
- `district`: (å¯é€‰) æŒ‰å‘æºåœ°åŒºç­›é€‰

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "çƒ­å¹²é¢",
    "description": "çƒ­å¹²é¢æ˜¯æ­¦æ±‰æœ€è´Ÿç››åçš„ç‰¹è‰²å°åƒï¼Œå…¶ç‰¹ç‚¹æ˜¯é¢æ¡åŠ²é“ã€å‘³é“æµ“åš...",
    "history": "çƒ­å¹²é¢èµ·æºäºæ°‘å›½åˆå¹´ï¼Œç›¸ä¼ æ˜¯ç”±æ­¦æ±‰æ±‰å£çš„ä¸€ä½æ‘Šè´©å¶ç„¶å‘æ˜...",
    "making_method": "å°†æ–°é²œé¢æ¡ç…®ç†Ÿåè¿‡å‡‰æ°´ï¼Œæ²¥å¹²æ°´åˆ†ï¼Œæ‹Œå…¥èŠéº»é…±ã€é¦™æ²¹...",
    "image_url": "http://example.com/images/hot_dry_noodles.jpg",
    "food_type": "é¢é£Ÿ",
    "origin_district": "æ±‰å£",
    "restaurants": [
      {"id": 1, "name": "é»„é¹¤æ¥¼å°åƒåº—"}
    ]
  },
  {
    // å…¶ä»–ç¾é£Ÿæ–‡åŒ–...
  }
]
```

### è·å–ç¾é£Ÿæ–‡åŒ–è¯¦æƒ…

```
GET /api/food-culture/<id>
```

**è·¯å¾„å‚æ•°**
- `id`: ç¾é£Ÿæ–‡åŒ–ID

**å“åº”**
```json
{
  "id": 1,
  "name": "çƒ­å¹²é¢",
  "description": "çƒ­å¹²é¢æ˜¯æ­¦æ±‰æœ€è´Ÿç››åçš„ç‰¹è‰²å°åƒï¼Œå…¶ç‰¹ç‚¹æ˜¯é¢æ¡åŠ²é“ã€å‘³é“æµ“åš...",
  "history": "çƒ­å¹²é¢èµ·æºäºæ°‘å›½åˆå¹´ï¼Œç›¸ä¼ æ˜¯ç”±æ­¦æ±‰æ±‰å£çš„ä¸€ä½æ‘Šè´©å¶ç„¶å‘æ˜...",
  "making_method": "å°†æ–°é²œé¢æ¡ç…®ç†Ÿåè¿‡å‡‰æ°´ï¼Œæ²¥å¹²æ°´åˆ†ï¼Œæ‹Œå…¥èŠéº»é…±ã€é¦™æ²¹...",
  "image_url": "http://example.com/images/hot_dry_noodles.jpg",
  "food_type": "é¢é£Ÿ",
  "origin_district": "æ±‰å£",
  "restaurants": [
    {
      "id": 1,
      "name": "é»„é¹¤æ¥¼å°åƒåº—",
      "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
      "district": "æ­¦æ˜ŒåŒº",
      "image_url": "http://example.com/images/restaurant1.jpg"
    }
  ]
}
```

### è·å–ç¾é£Ÿç±»å‹åˆ—è¡¨

```
GET /api/food-culture/food-types
```

**å“åº”**
```json
[
  "é¢é£Ÿ",
  "å°åƒ",
  "æ¹–åŒ—èœ",
  "ç³•ç‚¹"
]
```

### è·å–ç¾é£Ÿå‘æºåœ°åŒºåˆ—è¡¨

```
GET /api/food-culture/districts
```

**å“åº”**
```json
[
  "æ­¦æ˜ŒåŒº",
  "æ±‰å£",
  "æ±Ÿæ±‰åŒº",
  "æ±Ÿå²¸åŒº"
]
```

### è·å–ç¾é£Ÿè·¯çº¿åˆ—è¡¨

```
GET /api/food-culture/routes
```

**æŸ¥è¯¢å‚æ•°**
- `district`: (å¯é€‰) æŒ‰åŒºåŸŸç­›é€‰

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "æ­¦æ±‰ç»å…¸å°åƒä¸€æ—¥æ¸¸",
    "description": "ä½“éªŒæ­¦æ±‰æœ€åœ°é“çš„ä¼ ç»Ÿå°åƒï¼ŒåŒ…æ‹¬çƒ­å¹²é¢ã€è±†çš®ã€é²œé±¼ç³Šæ±¤ç²‰ç­‰ç»å…¸ç¾é£Ÿã€‚",
    "image_url": "http://example.com/images/wuhan_food_tour.jpg",
    "duration": "6å°æ—¶",
    "district": "æ­¦æ˜ŒåŒº",
    "stops_count": 3
  },
  {
    // å…¶ä»–ç¾é£Ÿè·¯çº¿...
  }
]
```

### è·å–ç¾é£Ÿè·¯çº¿è¯¦æƒ…

```
GET /api/food-culture/routes/<id>
```

**è·¯å¾„å‚æ•°**
- `id`: ç¾é£Ÿè·¯çº¿ID

**å“åº”**
```json
{
  "id": 1,
  "name": "æ­¦æ±‰ç»å…¸å°åƒä¸€æ—¥æ¸¸",
  "description": "ä½“éªŒæ­¦æ±‰æœ€åœ°é“çš„ä¼ ç»Ÿå°åƒï¼ŒåŒ…æ‹¬çƒ­å¹²é¢ã€è±†çš®ã€é²œé±¼ç³Šæ±¤ç²‰ç­‰ç»å…¸ç¾é£Ÿã€‚",
  "image_url": "http://example.com/images/wuhan_food_tour.jpg",
  "duration": "6å°æ—¶",
  "district": "æ­¦æ˜ŒåŒº",
  "stops": [
    {
      "order": 1,
      "visit_time": "ä¸Šåˆ10:00-11:30",
      "recommendation": "æ¨èå°è¯•çƒ­å¹²é¢å’Œé²œè‚‰åŒ…",
      "restaurant": {
        "id": 1,
        "name": "é»„é¹¤æ¥¼å°åƒåº—",
        "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
        "latitude": 30.5433,
        "longitude": 114.3008,
        "food_type": "æ¹–åŒ—èœ",
        "image_url": "http://example.com/images/restaurant1.jpg"
      }
    },
    {
      // å…¶ä»–ç«™ç‚¹...
    }
  ]
}
```

## æ•°æ®æ¨¡å‹

### Restaurant é¤å…

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| name | String(100) | æ˜¯ | é¤å…åç§° |
| address | String(200) | æ˜¯ | åœ°å€ |
| latitude | Float | æ˜¯ | çº¬åº¦ |
| longitude | Float | æ˜¯ | ç»åº¦ |
| location | Geometry(Point,4326) | è‡ªåŠ¨ | åœ°ç†ä½ç½®ç‚¹ |
| phone | String(20) | å¦ | è”ç³»ç”µè¯ |
| food_type | String(50) | å¦ | ç¾é£Ÿç±»å‹ |
| description | Text | å¦ | æè¿° |
| image_url | String(255) | å¦ | å›¾ç‰‡é“¾æ¥ |
| business_hours | String(200) | å¦ | è¥ä¸šæ—¶é—´ |
| district | String(50) | å¦ | æ‰€åœ¨åŒºåŸŸ |
| created_at | DateTime | è‡ªåŠ¨ | åˆ›å»ºæ—¶é—´ |
| updated_at | DateTime | è‡ªåŠ¨ | æ›´æ–°æ—¶é—´ |

### FoodCulture ç¾é£Ÿæ–‡åŒ–

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| name | String(100) | æ˜¯ | ç¾é£Ÿåç§° |
| description | Text | æ˜¯ | ç¾é£Ÿä»‹ç» |
| history | Text | å¦ | å†å²èƒŒæ™¯ |
| making_method | Text | å¦ | åˆ¶ä½œæ–¹æ³• |
| image_url | String(255) | å¦ | å›¾ç‰‡é“¾æ¥ |
| food_type | String(50) | å¦ | ç¾é£Ÿç±»å‹ |
| origin_district | String(50) | å¦ | å‘æºåœ°åŒº |
| restaurants | Relationship | å¦ | å…³è”çš„é¤å…åˆ—è¡¨ |

### FoodRoute ç¾é£Ÿè·¯çº¿

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| name | String(100) | æ˜¯ | çº¿è·¯åç§° |
| description | Text | æ˜¯ | çº¿è·¯ä»‹ç» |
| image_url | String(255) | å¦ | å›¾ç‰‡é“¾æ¥ |
| duration | String(50) | å¦ | æ¨èæ¸¸è§ˆæ—¶é—´ |
| district | String(50) | å¦ | æ‰€åœ¨åŒºåŸŸ |
| stops | Relationship | å¦ | çº¿è·¯ç«™ç‚¹åˆ—è¡¨ |

### RouteStop è·¯çº¿ç«™ç‚¹

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| route_id | Integer | æ˜¯ | æ‰€å±è·¯çº¿ID |
| restaurant_id | Integer | æ˜¯ | é¤å…ID |
| stop_order | Integer | æ˜¯ | ç«™ç‚¹é¡ºåº |
| visit_time | String(50) | å¦ | æ¨èæ¸¸è§ˆæ—¶é—´ |
| recommendation | Text | å¦ | æ¨èèœå“æˆ–å»ºè®® |

### FoodRestaurantAssociation ç¾é£Ÿé¤å…å…³è”

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| food_id | Integer | æ˜¯ | ç¾é£Ÿæ–‡åŒ–ID |
| restaurant_id | Integer | æ˜¯ | é¤å…ID |

## å‰ç«¯æœåŠ¡

### APIæœåŠ¡

**æ–‡ä»¶è·¯å¾„**: `src/services/api.js`

| å‡½æ•°å | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|------|------|
| getRestaurants | filters: Object | Promise<Array> | è·å–é¤å…åˆ—è¡¨ï¼Œå¯é€‰ç­›é€‰å‚æ•° |
| getRestaurantById | id: Number | Promise<Object> | è·å–æŒ‡å®šIDçš„é¤å…è¯¦æƒ… |
| getDistricts | æ—  | Promise<Array> | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| getFoodTypes | æ—  | Promise<Array> | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| getNearbyRestaurants | lat: Number, lng: Number, distance: Number | Promise<Array> | è·å–æŒ‡å®šåæ ‡é™„è¿‘çš„é¤å… |
| getRestaurantsInBoundingBox | minLat: Number, minLng: Number, maxLat: Number, maxLng: Number | Promise<Array> | è·å–æŒ‡å®šçŸ©å½¢åŒºåŸŸå†…çš„é¤å… |
| getRestaurantStatsByDistrict | æ—  | Promise<Array> | è·å–æŒ‰åŒºåŸŸç»Ÿè®¡çš„é¤å…æ•°é‡ |
| getRestaurantStatsByFoodType | æ—  | Promise<Array> | è·å–æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡çš„é¤å…æ•°é‡ |
| getStatsByDistrictFoodType | foodType: String | Promise<Object> | è·å–æŒ‰åŒºåŸŸå’Œç¾é£Ÿç±»å‹äº¤å‰ç»Ÿè®¡çš„é¤å…æ•°é‡ |
| getRoute | routeParams: Object { start: {lng, lat}, end: {lng, lat}, mode: String } | Promise<Object> | è·å–è·¯çº¿è§„åˆ’ç»“æœ |
| getFoodCultures | filters: Object | Promise<Array> | è·å–ç¾é£Ÿæ–‡åŒ–åˆ—è¡¨ï¼Œå¯é€‰ç­›é€‰å‚æ•° |
| getFoodCultureById | id: Number | Promise<Object> | è·å–æŒ‡å®šIDçš„ç¾é£Ÿæ–‡åŒ–è¯¦æƒ… |
| getFoodRoutes | district: String | Promise<Array> | è·å–ç¾é£Ÿè·¯çº¿åˆ—è¡¨ï¼Œå¯é€‰æŒ‰åŒºåŸŸç­›é€‰ |
| getFoodRouteById | id: Number | Promise<Object> | è·å–æŒ‡å®šIDçš„ç¾é£Ÿè·¯çº¿è¯¦æƒ… |

## çŠ¶æ€ç®¡ç†

### é¤å…Store

**æ–‡ä»¶è·¯å¾„**: `src/stores/restaurant.js`

**çŠ¶æ€**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurants | Array | æ‰€æœ‰é¤å…æ•°æ® |
| filteredRestaurants | Array | ç­›é€‰åçš„é¤å…æ•°æ® |
| selectedRestaurant | Object | å½“å‰é€‰ä¸­çš„é¤å… |
| loading | Boolean | åŠ è½½çŠ¶æ€ |
| error | String | é”™è¯¯ä¿¡æ¯ |
| filters | Object | å½“å‰ç­›é€‰æ¡ä»¶ |
| districtList | Array | åŒºåŸŸåˆ—è¡¨ |
| foodTypeList | Array | ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| nearbyRestaurants | Array | é™„è¿‘é¤å…åˆ—è¡¨ |
| userLocation | Object | ç”¨æˆ·å½“å‰ä½ç½® |
| boxSelection | Object | æ¡†é€‰ç›¸å…³çŠ¶æ€ |
| heatmap | Object | çƒ­åŠ›å›¾ç›¸å…³çŠ¶æ€ |

**Getters**
| åç§° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|------|------|
| getRestaurantById | id: Number | Object | è·å–æŒ‡å®šIDçš„é¤å… |
| getRestaurantsByDistrict | district: String | Array | æŒ‰åŒºåŸŸç­›é€‰é¤å… |
| getRestaurantsByFoodType | foodType: String | Array | æŒ‰ç¾é£Ÿç±»å‹ç­›é€‰é¤å… |
| getDistrictList | - | Array | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| getFoodTypeList | - | Array | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| getNearbyRestaurants | distance: Number | Array | è·å–ç”¨æˆ·é™„è¿‘æŒ‡å®šè·ç¦»å†…çš„é¤å… |

**Actions**
| åç§° | å‚æ•° | æè¿° |
|------|------|------|
| fetchRestaurants | - | è·å–æ‰€æœ‰é¤å…æ•°æ® |
| fetchRestaurantDetails | id: Number | è·å–æŒ‡å®šIDçš„é¤å…è¯¦æƒ… |
| fetchDistrictList | - | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| fetchFoodTypeList | - | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| applyFilters | filterOptions: Object | åº”ç”¨ç­›é€‰æ¡ä»¶ |
| resetFilters | - | é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶ |
| clearSelectedRestaurant | - | æ¸…é™¤é€‰ä¸­çš„é¤å… |
| fetchRestaurantsInBox | bounds: Object | è·å–æŒ‡å®šè¾¹ç•Œæ¡†å†…çš„é¤å… |
| clearBoxSelection | - | æ¸…é™¤æ¡†é€‰ç»“æœ |
| fetchHeatmapData | - | è·å–çƒ­åŠ›å›¾æ•°æ® |
| toggleHeatmap | - | åˆ‡æ¢çƒ­åŠ›å›¾çŠ¶æ€ |
| fetchStatsByDistrict | - | è·å–æŒ‰åŒºåŸŸç»Ÿè®¡çš„é¤å…æ•°é‡ |
| fetchStatsByFoodType | - | è·å–æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡çš„é¤å…æ•°é‡ |
| fetchStatsByDistrictFoodType | foodType: String | è·å–æŒ‰åŒºåŸŸå’Œç¾é£Ÿç±»å‹äº¤å‰ç»Ÿè®¡çš„é¤å…æ•°é‡ |

### ç¾é£Ÿæ–‡åŒ–Store

**æ–‡ä»¶è·¯å¾„**: `src/stores/foodCulture.js`

**çŠ¶æ€**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| foodCultures | Array | ç¾é£Ÿæ–‡åŒ–åˆ—è¡¨ |
| selectedFoodCulture | Object | å½“å‰é€‰ä¸­çš„ç¾é£Ÿæ–‡åŒ– |
| foodRoutes | Array | ç¾é£Ÿè·¯çº¿åˆ—è¡¨ |
| selectedFoodRoute | Object | å½“å‰é€‰ä¸­çš„ç¾é£Ÿè·¯çº¿ |
| foodTypes | Array | ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| originDistricts | Array | å‘æºåœ°åŒºåˆ—è¡¨ |
| filters | Object | å½“å‰ç­›é€‰æ¡ä»¶ |
| loading | Boolean | åŠ è½½çŠ¶æ€ |
| error | String | é”™è¯¯ä¿¡æ¯ |

**Getters**
| åç§° | è¿”å›å€¼ | æè¿° |
|------|------|------|
| filteredFoodCultures | Array | è·å–ç­›é€‰åçš„ç¾é£Ÿæ–‡åŒ–åˆ—è¡¨ |
| foodCulturesByType | Object | æŒ‰ç¾é£Ÿç±»å‹åˆ†ç»„çš„ç¾é£Ÿæ–‡åŒ– |
| foodRoutesByDistrict | Object | æŒ‰åŒºåŸŸåˆ†ç»„çš„ç¾é£Ÿè·¯çº¿ |

**Actions**
| åç§° | å‚æ•° | æè¿° |
|------|------|------|
| fetchFoodCultures | æ—  | è·å–ç¾é£Ÿæ–‡åŒ–åˆ—è¡¨ |
| fetchFoodCultureById | id: Number | è·å–æŒ‡å®šIDçš„ç¾é£Ÿæ–‡åŒ–è¯¦æƒ… |
| fetchFoodTypes | æ—  | è·å–ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| fetchOriginDistricts | æ—  | è·å–å‘æºåœ°åŒºåˆ—è¡¨ |
| fetchFoodRoutes | district: String | è·å–ç¾é£Ÿè·¯çº¿åˆ—è¡¨ |
| fetchFoodRouteById | id: Number | è·å–æŒ‡å®šIDçš„ç¾é£Ÿè·¯çº¿è¯¦æƒ… |
| setFilter | filterName: String, value: String | è®¾ç½®ç­›é€‰æ¡ä»¶ |
| resetFilters | æ—  | é‡ç½®ç­›é€‰æ¡ä»¶ |
| clearSelectedFoodCulture | æ—  | æ¸…é™¤é€‰ä¸­çš„ç¾é£Ÿæ–‡åŒ– |
| clearSelectedFoodRoute | æ—  | æ¸…é™¤é€‰ä¸­çš„ç¾é£Ÿè·¯çº¿ |

## è·¯ç”±é…ç½®

| è·¯å¾„ | åç§° | ç»„ä»¶ | æè¿° |
|------|------|------|------|
| `/` | home | HomeView | åº”ç”¨ä¸»é¡µ |
| `/map` | map | MapView | åœ°å›¾é¡µé¢ |
| `/stats` | stats | StatsView | ç»Ÿè®¡é¡µé¢ |
| `/food-culture` | foodCulture | FoodCultureView | ç¾é£Ÿæ–‡åŒ–é¡µé¢ |
| `/food-routes` | foodRoutes | FoodRouteView | ç¾é£Ÿè·¯çº¿é¡µé¢ |

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ assets/       # é™æ€èµ„æºæ–‡ä»¶
â”œâ”€â”€ components/   
â”‚   â”œâ”€â”€ FilterPanel.vue    # ç­›é€‰é¢æ¿ç»„ä»¶
â”‚   â”œâ”€â”€ HelloWorld.vue     # ç¤ºä¾‹ç»„ä»¶
â”‚   â”œâ”€â”€ MapContainer.vue   # åœ°å›¾å®¹å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ RestaurantInfo.vue # é¤å…è¯¦æƒ…ç»„ä»¶
â”‚   â”œâ”€â”€ RestaurantMarker.vue # é¤å…æ ‡è®°ç»„ä»¶
â”‚   â””â”€â”€ StatsChart.vue     # ç»Ÿè®¡å›¾è¡¨ç»„ä»¶
â”œâ”€â”€ router/       # è·¯ç”±é…ç½®
â”œâ”€â”€ services/     # APIæœåŠ¡
â”‚   â””â”€â”€ api.js    # é¤å…æ•°æ®API
â”œâ”€â”€ stores/       # PiniaçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ restaurant.js # é¤å…æ•°æ®çŠ¶æ€
â”œâ”€â”€ views/        
â”‚   â”œâ”€â”€ HomeView.vue      # é¦–é¡µç»„ä»¶
â”‚   â”œâ”€â”€ MapView.vue       # åœ°å›¾é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ StatsView.vue     # ç»Ÿè®¡é¡µé¢ç»„ä»¶
â”œâ”€â”€ App.vue       # æ ¹ç»„ä»¶
â”œâ”€â”€ main.js       # åº”ç”¨å…¥å£
â””â”€â”€ style.css     # å…¨å±€æ ·å¼

backend/
â”œâ”€â”€ app/                    # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ restaurant.py   # é¤å…æ¨¡å‹
â”‚   â”œâ”€â”€ routes/             # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ restaurants.py  # é¤å…APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ routes.py       # è·¯çº¿è§„åˆ’APIè·¯ç”±
â”‚   â”œâ”€â”€ schemas/            # æ•°æ®éªŒè¯æ¨¡å¼
â”‚   â””â”€â”€ geo_helper.py       # åœ°ç†ç©ºé—´æŸ¥è¯¢è¾…åŠ©æ¨¡å—
â”œâ”€â”€ config/                 # é…ç½®ç›®å½•
â”œâ”€â”€ tests/                  # æµ‹è¯•ç›®å½•
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”œâ”€â”€ run.py                  # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ seed_data.py            # æµ‹è¯•æ•°æ®è„šæœ¬
â”œâ”€â”€ init_db.py              # æ•°æ®è¡¨åˆ›å»ºè„šæœ¬
â”œâ”€â”€ setup_database.py       # æ•°æ®åº“åˆ›å»ºè„šæœ¬
â”œâ”€â”€ migrations.py           # æ•°æ®åº“è¿ç§»è„šæœ¬
â”œâ”€â”€ geo_query_examples.py   # åœ°ç†ç©ºé—´æŸ¥è¯¢ç¤ºä¾‹
â”œâ”€â”€ DATABASE_SETUP.md       # æ•°æ®åº“è®¾ç½®æ–‡æ¡£
â””â”€â”€ DATABASE_INSTALL_GUIDE.md # æ•°æ®åº“å®‰è£…æŒ‡å—
```

## åœ°å›¾äº¤äº’åŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| æ˜¾ç¤ºé¤å…æ ‡è®° | åœ¨åœ°å›¾ä¸Šä»¥æ ‡è®°å½¢å¼æ˜¾ç¤ºé¤å…ä½ç½® |
| ç‚¹å‡»æ ‡è®°æŸ¥çœ‹è¯¦æƒ… | ç‚¹å‡»é¤å…æ ‡è®°åï¼Œæ˜¾ç¤ºè¯¥é¤å…çš„è¯¦ç»†ä¿¡æ¯ |
| åœ°å›¾ç¼©æ”¾æ§åˆ¶ | é€šè¿‡æŒ‰é’®æ§åˆ¶åœ°å›¾çš„æ”¾å¤§å’Œç¼©å° |
| é‡ç½®è§†å›¾ | æ¢å¤åœ°å›¾åˆ°åˆå§‹è§†å›¾çŠ¶æ€ |
| æ ‡è®°é«˜äº® | é€‰ä¸­çš„é¤å…æ ‡è®°ä¼šé«˜äº®æ˜¾ç¤º |
| ç­›é€‰é¤å… | æ ¹æ®åŒºåŸŸæˆ–ç¾é£Ÿç±»å‹ç­›é€‰é¤å…æ˜¾ç¤º |
| æœç´¢é¤å… | æ ¹æ®é¤å…åç§°æˆ–æè¿°æœç´¢ |
| é™„è¿‘é¤å…æŸ¥è¯¢ | æŸ¥è¯¢ç”¨æˆ·å½“å‰ä½ç½®é™„è¿‘çš„é¤å… |
| åŒºåŸŸå†…é¤å…æŸ¥è¯¢ | æŸ¥è¯¢åœ°å›¾å¯è§†åŒºåŸŸå†…çš„é¤å… |
| è·ç¦»æ’åº | æ ¹æ®ä¸å½“å‰ä½ç½®çš„è·ç¦»æ’åºé¤å… |
| åœ°ç†ç»Ÿè®¡ | å±•ç¤ºå„åŒºåŸŸé¤å…åˆ†å¸ƒæ•°é‡ |
| è·¯çº¿è§„åˆ’ | åœ¨é€‰å®šçš„èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´è§„åˆ’æœ€ä½³è·¯çº¿ |
| è‡ªå®šä¹‰ä½ç½®é€‰æ‹© | åœ¨åœ°å›¾ä¸Šé€‰æ‹©è‡ªå®šä¹‰èµ·ç‚¹å’Œç»ˆç‚¹ |

## ç©ºé—´æ•°æ®æ ¼å¼

### GeoJSON

åœ°ç†ä½ç½®æ•°æ®ä»¥GeoJSONæ ¼å¼è¿”å›ï¼š

```json
{
  "type": "Point",
  "coordinates": [114.3008, 30.5433]
}
```

åæ ‡ç³»ç»Ÿä½¿ç”¨WGS84 (EPSG:4326)ï¼Œä¸Mapbox GL JSå…¼å®¹ã€‚

### è·¯çº¿æ•°æ®

è·¯çº¿è§„åˆ’ç»“æœä½¿ç”¨GeoJSON LineStringæ ¼å¼ï¼š

```json
{
  "type": "LineString",
  "coordinates": [
    [114.3008, 30.5433],
    [114.3015, 30.5440],
    // å…¶ä»–è·¯å¾„ç‚¹...
    [114.3100, 30.5500]
  ]
}
```

## ç»Ÿè®¡å›¾è¡¨åŠŸèƒ½

### StatsChartç»„ä»¶

```vue
ç”¨äºå±•ç¤ºå„ç±»ç»Ÿè®¡å›¾è¡¨çš„ç»„ä»¶ï¼ŒåŸºäºChart.jså’Œvue-chartjså®ç°
<template>
  <div class="stats-chart-container">
    <!-- å›¾è¡¨æ ‡é¢˜å’Œæ§åˆ¶åŒºåŸŸ -->
    <div class="chart-header">
      <h3>{{ title }}</h3>
      <div class="chart-controls" v-if="showControls">
        <select v-model="selectedFoodType" @change="updateChartData" class="food-type-select">
          <option value="">æ‰€æœ‰ç¾é£Ÿç±»å‹</option>
          <option v-for="type in foodTypeList" :key="type" :value="type">
            {{ type }}
          </option>
        </select>
      </div>
    </div>
    
    <!-- å›¾è¡¨åŒºåŸŸ -->
    <Bar
      v-if="chartData"
      :data="chartData"
      :options="chartOptions"
      class="chart"
    />
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| title | String (prop) | å›¾è¡¨æ ‡é¢˜ï¼Œé»˜è®¤ä¸º"æ­¦æ±‰ç¾é£Ÿç»Ÿè®¡" |
| showControls | Boolean (prop) | æ˜¯å¦æ˜¾ç¤ºç­›é€‰æ§åˆ¶åŒºåŸŸï¼Œé»˜è®¤ä¸ºtrue |
| chartData | ref | å›¾è¡¨æ•°æ®å¯¹è±¡ï¼ŒåŒ…å«æ ‡ç­¾å’Œæ•°æ®é›† |
| selectedFoodType | ref | å½“å‰é€‰æ‹©çš„ç¾é£Ÿç±»å‹ç­›é€‰ |
| foodTypeList | computed | ç¾é£Ÿç±»å‹åˆ—è¡¨ï¼Œä»restaurantStoreè·å– |
| chartOptions | Object | å›¾è¡¨é…ç½®é€‰é¡¹ |
| updateChartData | Function | æ›´æ–°å›¾è¡¨æ•°æ®ï¼Œæ ¹æ®é€‰æ‹©çš„ç¾é£Ÿç±»å‹è·å–ç»Ÿè®¡æ•°æ® |

### StatsViewé¡µé¢

```vue
ç»Ÿè®¡é¡µé¢ç»„ä»¶ï¼ŒåŒ…å«ç»Ÿè®¡å›¾è¡¨å±•ç¤º
<template>
  <div class="stats-view">
    <div class="header">
      <h1>æ­¦æ±‰ç¾é£Ÿç»Ÿè®¡</h1>
      <div class="nav-links">
        <router-link to="/" class="nav-link">é¦–é¡µ</router-link>
        <router-link to="/map" class="nav-link">åœ°å›¾</router-link>
      </div>
    </div>
    
    <div class="stats-container">
      <div class="chart-card">
        <h2>å„åŒºåŸŸç¾é£Ÿç±»å‹åˆ†å¸ƒ</h2>
        <StatsChart
          title="å„åŒºåŸŸç¾é£Ÿç±»å‹åˆ†å¸ƒç»Ÿè®¡"
          :showControls="true"
          class="district-food-chart"
        />
      </div>
    </div>
  </div>
</template>
```