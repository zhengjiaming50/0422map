è¯·æŸ¥çœ‹å¹¶æ›´æ–°æ¥å£æ–‡æ¡£.mdæ–‡ä»¶ï¼ŒåŒ…å«æœ¬æ¬¡å¼€å‘çš„æ–°æ¥å£ï¼š
1. åç«¯APIï¼šæ–°å¢/ä¿®æ”¹çš„ç«¯ç‚¹ã€å‚æ•°å’Œè¿”å›æ ¼å¼
2. å‰ç«¯ç»„ä»¶ï¼šæ–°åˆ›å»ºç»„ä»¶çš„propsã€eventså’Œä½¿ç”¨æ–¹æ³•
3. æ•°æ®æ¨¡å‹ï¼šæ–°å¢/ä¿®æ”¹çš„å®ä½“ç»“æ„å’Œå…³ç³»
4. åœ°å›¾äº¤äº’ï¼šæ–°å¢åœ°å›¾åŠŸèƒ½å’Œæ•°æ®æ ¼å¼

ä¿æŒæ–‡æ¡£æ ¼å¼ç»Ÿä¸€ï¼Œä½¿ç”¨markdownè¡¨æ ¼æˆ–ä»£ç å—å±•ç¤ºæ¥å£ç»†èŠ‚ã€‚

## å‰ç«¯ç»„ä»¶

### HomeView
```vue
ä¸»é¡µé¢ç»„ä»¶ï¼Œæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯å’Œè¿›å…¥åœ°å›¾çš„é“¾æ¥
<template>
  <div class="home">
    <header class="home-header">
      <h1>æ­¦æ±‰ç¾é£Ÿåœ°å›¾</h1>
      <p class="subtitle">æ¢ç´¢æ­¦æ±‰ç‰¹è‰²ç¾é£Ÿï¼Œå‘ç°åŸå¸‚ç¾é£Ÿæ–‡åŒ–</p>
    </header>
    
    <main class="home-content">
      <div class="intro-card">
        <h2>æ¬¢è¿ä½¿ç”¨æ­¦æ±‰ç¾é£Ÿåœ°å›¾ç³»ç»Ÿ</h2>
        <p>è¿™é‡Œæ±‡é›†äº†æ­¦æ±‰å„åŒºåŸŸçš„ç‰¹è‰²é¤å…å’Œç¾é£Ÿï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ä½ çš„ç¾é£Ÿæ¢ç´¢ä¹‹æ—…ã€‚</p>
        <div class="actions">
          <router-link to="/map" class="map-btn">è¿›å…¥åœ°å›¾</router-link>
        </div>
      </div>
    </main>
  </div>
</template>
```

### MapView
```vue
åœ°å›¾é¡µé¢ç»„ä»¶ï¼Œé›†æˆMapContainerå’ŒFilterPanel
<template>
  <div class="map-view">
    <header class="map-header">
      <h1>æ­¦æ±‰ç¾é£Ÿåœ°å›¾</h1>
      <router-link to="/" class="home-link">è¿”å›é¦–é¡µ</router-link>
    </header>
    
    <div class="map-content">
      <div class="filter-panel-container">
        <!-- ç­›é€‰é¢æ¿å°†åœ¨ä¸‹ä¸€æ­¥å®ç° -->
        <div class="filter-placeholder">
          <h3>ç­›é€‰é¢æ¿</h3>
          <p>å°†åœ¨ä¸‹ä¸€æ­¥å®ç°ç­›é€‰å’Œæœç´¢åŠŸèƒ½</p>
        </div>
        
        <div v-if="restaurantStore.loading" class="loading-indicator">
          <span>åŠ è½½ä¸­...</span>
        </div>
        <div v-else-if="restaurantStore.error" class="error-message">
          <span>{{ restaurantStore.error }}</span>
        </div>
        <div v-else class="restaurant-list">
          <h3>é¤å…åˆ—è¡¨</h3>
          <div 
            v-for="restaurant in restaurantStore.filteredRestaurants" 
            :key="restaurant.id"
            class="restaurant-item"
            :class="{ 'active': selectedRestaurantId === restaurant.id }"
            @click="selectRestaurant(restaurant)"
          >
            <div class="restaurant-name">{{ restaurant.name }}</div>
            <div class="restaurant-meta">
              <span>{{ restaurant.food_type || 'æœªåˆ†ç±»' }}</span>
              <span>{{ restaurant.district || 'æœªçŸ¥åŒºåŸŸ' }}</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="map-wrapper">
        <MapContainer 
          :initial-center="[114.3008, 30.5433]" 
          :initial-zoom="12"
          @map-loaded="handleMapLoaded"
          @map-click="handleMapClick"
          @marker-click="handleMarkerClick"
          ref="mapContainerRef"
        />
      </div>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurantStore | ref | é¤å…çŠ¶æ€ç®¡ç†å®ä¾‹ |
| mapContainerRef | ref | åœ°å›¾å®¹å™¨ç»„ä»¶å¼•ç”¨ |
| mapInstance | ref | åœ°å›¾å®ä¾‹å¼•ç”¨ |
| selectedRestaurantId | ref | å½“å‰é€‰ä¸­çš„é¤å…ID |
| handleMapLoaded | Function | åœ°å›¾åŠ è½½å®Œæˆäº‹ä»¶å¤„ç† |
| handleMapClick | Function | åœ°å›¾ç‚¹å‡»äº‹ä»¶å¤„ç† |
| handleMarkerClick | Function | é¤å…æ ‡è®°ç‚¹å‡»äº‹ä»¶å¤„ç† |
| selectRestaurant | Function | ä»åˆ—è¡¨é€‰æ‹©é¤å…çš„å¤„ç†å‡½æ•° |

**æ ·å¼è¯´æ˜**
| ç±»å | æè¿° |
|------|------|
| .map-view | å¼¹æ€§å¸ƒå±€å®¹å™¨ï¼Œå æ»¡è§†å£é«˜åº¦ï¼Œæ·»åŠ overflow: hiddené˜²æ­¢æº¢å‡º |
| .map-header | é¡µé¢é¡¶éƒ¨æ ‡é¢˜æ ï¼Œé«˜åº¦60pxï¼ŒèƒŒæ™¯è‰²ä¸º#e63946 |
| .map-content | å¼¹æ€§å¸ƒå±€å†…å®¹åŒºåŸŸï¼Œè®¡ç®—é«˜åº¦ä¸º(100vh - 60px)ï¼ŒåŒ…å«ç­›é€‰é¢æ¿å’Œåœ°å›¾ |
| .filter-panel-container | ä¾§è¾¹ç­›é€‰é¢æ¿å®¹å™¨ï¼Œå›ºå®šå®½åº¦300pxï¼Œç™½è‰²èƒŒæ™¯ |
| .restaurant-list | é¤å…åˆ—è¡¨å®¹å™¨ï¼Œå¯æ»šåŠ¨ï¼Œæ˜¾ç¤ºæ‰€æœ‰é¤å… |
| .restaurant-item | å•ä¸ªé¤å…é¡¹ç›®ï¼ŒåŒ…å«æ ·å¼å’Œæ‚¬åœæ•ˆæœ |
| .map-wrapper | å¼¹æ€§å¸ƒå±€åœ°å›¾å®¹å™¨ï¼Œå æ®å‰©ä½™ç©ºé—´ï¼Œç›¸å¯¹å®šä½ |

### MapContainer
```vue
åœ°å›¾å®¹å™¨ç»„ä»¶ï¼Œè´Ÿè´£æ¸²æŸ“å’Œæ§åˆ¶Mapboxåœ°å›¾
<template>
  <div class="map-container">
    <div id="map" ref="mapElement" class="map-element"></div>
    <div class="map-controls">
      <button @click="zoomIn" class="control-btn" title="æ”¾å¤§">+</button>
      <button @click="zoomOut" class="control-btn" title="ç¼©å°">-</button>
      <button @click="resetView" class="control-btn" title="é‡ç½®è§†å›¾">âŸ³</button>
    </div>
    <div v-if="selectedRestaurant" class="restaurant-detail-panel">
      <RestaurantInfo 
        :restaurant="selectedRestaurant" 
        @close="closeRestaurantInfo" 
      />
    </div>
    <div v-if="loading" class="loading-overlay">
      <div class="loading-spinner"></div>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| initialCenter | Array (prop) | åˆå§‹åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡ [ç»åº¦, çº¬åº¦]ï¼Œé»˜è®¤ä¸ºæ­¦æ±‰å¸‚ä¸­å¿ƒ |
| initialZoom | Number (prop) | åˆå§‹ç¼©æ”¾çº§åˆ«ï¼Œé»˜è®¤ä¸º12 |
| mapStyle | String (prop) | åœ°å›¾æ ·å¼URLï¼Œé»˜è®¤ä¸ºmapboxè¡—é“æ ·å¼ |
| restaurants | Array (prop) | é¤å…æ•°æ®åˆ—è¡¨ï¼Œé»˜è®¤ä¸ºç©ºæ•°ç»„ |
| mapInstance | ref | åœ°å›¾å®ä¾‹å¼•ç”¨ |
| markers | ref | é¤å…æ ‡è®°é›†åˆå¯¹è±¡ï¼Œé”®ä¸ºé¤å…ID |
| restaurantStore | Object | é¤å…çŠ¶æ€ç®¡ç†å¯¹è±¡ |
| selectedRestaurant | ref | å½“å‰é€‰ä¸­çš„é¤å… |
| loading | ref | åŠ è½½çŠ¶æ€ |
| initMap() | Function | åˆå§‹åŒ–åœ°å›¾ |
| fetchRestaurants() | Function | è·å–æ‰€æœ‰é¤å…æ•°æ® |
| renderRestaurants() | Function | åœ¨åœ°å›¾ä¸Šæ¸²æŸ“é¤å…æ ‡è®° |
| addMarker(restaurant) | Function | æ·»åŠ å•ä¸ªé¤å…æ ‡è®° |
| clearMarkers() | Function | æ¸…é™¤æ‰€æœ‰é¤å…æ ‡è®° |
| handleMarkerClick(restaurant) | Function | å¤„ç†æ ‡è®°ç‚¹å‡»äº‹ä»¶ |
| closeRestaurantInfo() | Function | å…³é—­é¤å…è¯¦æƒ… |
| getMapInstance() | Function | è·å–åœ°å›¾å®ä¾‹æ–¹æ³•ï¼Œä¾›çˆ¶ç»„ä»¶è°ƒç”¨ |
| zoomIn() | Function | æ”¾å¤§åœ°å›¾ |
| zoomOut() | Function | ç¼©å°åœ°å›¾ |
| resetView() | Function | é‡ç½®åœ°å›¾è§†å›¾åˆ°åˆå§‹çŠ¶æ€ |

**äº‹ä»¶**
| åç§° | å‚æ•° | æè¿° |
|------|------|------|
| map-loaded | mapInstance | åœ°å›¾åŠ è½½å®Œæˆäº‹ä»¶ï¼Œè¿”å›åœ°å›¾å®ä¾‹ |
| map-click | e | åœ°å›¾ç‚¹å‡»äº‹ä»¶ï¼Œè¿”å›ç‚¹å‡»ä½ç½®ä¿¡æ¯ |
| map-move | {center, zoom} | åœ°å›¾ç§»åŠ¨äº‹ä»¶ï¼Œè¿”å›ä¸­å¿ƒç‚¹å’Œç¼©æ”¾çº§åˆ« |
| marker-click | restaurant | æ ‡è®°ç‚¹å‡»äº‹ä»¶ï¼Œè¿”å›è¢«ç‚¹å‡»çš„é¤å…å¯¹è±¡ |

**æ ·å¼è¯´æ˜**
| ç±»å | æè¿° |
|------|------|
| .map-container | ç›¸å¯¹å®šä½å®¹å™¨ï¼Œå æ»¡çˆ¶å…ƒç´ çš„100%å®½é«˜ï¼Œæ·»åŠ overflow: hiddené˜²æ­¢æº¢å‡º |
| .map-element | ç»å¯¹å®šä½å…ƒç´ ï¼Œå æ»¡å®¹å™¨çš„100%å®½é«˜ï¼Œç¡®ä¿åœ°å›¾æ­£ç¡®æ¸²æŸ“ |
| .map-controls | ä½äºåœ°å›¾å³ä¾§çš„æ§åˆ¶æŒ‰é’®ç»„ï¼Œå‚ç›´æ’åˆ—ï¼Œé«˜äºåœ°å›¾å†…å®¹çš„z-index |
| .control-btn | åœ†å½¢æ§åˆ¶æŒ‰é’®æ ·å¼ï¼ŒåŒ…å«é¼ æ ‡æ‚¬åœå’Œç‚¹å‡»æ•ˆæœ |
| .restaurant-detail-panel | é¤å…è¯¦æƒ…é¢æ¿å®¹å™¨ï¼Œç»å¯¹å®šä½äºåœ°å›¾å·¦ä¸‹è§’ |
| .restaurant-marker | é¤å…æ ‡è®°æ ·å¼ï¼Œåœ†å½¢çº¢è‰²èƒŒæ™¯ï¼Œæ·»åŠ é¼ æ ‡æ‚¬åœæ•ˆæœ |
| .loading-overlay | åŠ è½½çŠ¶æ€è¦†ç›–å±‚ï¼ŒåŠé€æ˜èƒŒæ™¯é®ç½© |
| .loading-spinner | åŠ è½½æ—‹è½¬åŠ¨ç”»ï¼Œæ˜¾ç¤ºåŠ è½½çŠ¶æ€ |

### RestaurantInfo
```vue
é¤å…è¯¦æƒ…ç»„ä»¶ï¼Œæ˜¾ç¤ºé¤å…è¯¦ç»†ä¿¡æ¯
<template>
  <div class="restaurant-info">
    <div class="info-header">
      <h3>{{ restaurant.name }}</h3>
      <button class="close-btn" @click="$emit('close')">&times;</button>
    </div>
    
    <div v-if="restaurant.image_url" class="info-image">
      <img :src="restaurant.image_url" :alt="restaurant.name">
    </div>
    
    <div class="info-content">
      <div class="info-item">
        <div class="item-label">ç±»å‹:</div>
        <div class="item-value">{{ restaurant.food_type || 'æœªçŸ¥' }}</div>
      </div>
      
      <div class="info-item">
        <div class="item-label">åŒºåŸŸ:</div>
        <div class="item-value">{{ restaurant.district || 'æœªçŸ¥' }}</div>
      </div>
      
      <div class="info-item">
        <div class="item-label">åœ°å€:</div>
        <div class="item-value">{{ restaurant.address }}</div>
      </div>
      
      <div v-if="restaurant.phone" class="info-item">
        <div class="item-label">ç”µè¯:</div>
        <div class="item-value">{{ restaurant.phone }}</div>
      </div>
      
      <div v-if="restaurant.business_hours" class="info-item">
        <div class="item-label">è¥ä¸šæ—¶é—´:</div>
        <div class="item-value">{{ restaurant.business_hours }}</div>
      </div>
    </div>
    
    <div v-if="restaurant.description" class="info-description">
      <h4>é¤å…ä»‹ç»</h4>
      <p>{{ restaurant.description }}</p>
    </div>
    
    <div class="info-actions">
      <button class="action-btn" @click="navigateTo">
        <span>å¯¼èˆªåˆ°è¿™é‡Œ</span>
      </button>
    </div>
  </div>
</template>
```

**å±æ€§ä¸äº‹ä»¶**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurant | Object (prop) | é¤å…è¯¦æƒ…å¯¹è±¡ï¼Œå¿…é¡»æä¾› |
| close | Event | å…³é—­è¯¦æƒ…é¢æ¿äº‹ä»¶ |
| navigateTo | Function | å¯¼èˆªåˆ°é¤å…ä½ç½®çš„æ–¹æ³•(æœªå®ç°å®Œæ•´åŠŸèƒ½) |

**æ ·å¼è¯´æ˜**
| ç±»å | æè¿° |
|------|------|
| .restaurant-info | é¤å…è¯¦æƒ…å®¹å™¨ï¼Œç™½è‰²èƒŒæ™¯ï¼Œåœ†è§’è¾¹æ¡†ï¼Œæœ€å¤§é«˜åº¦80vhå¯æ»šåŠ¨ |
| .info-header | æ ‡é¢˜åŒºåŸŸï¼Œæ·±è“è‰²èƒŒæ™¯ï¼Œæ˜¾ç¤ºé¤å…åç§°å’Œå…³é—­æŒ‰é’® |
| .info-image | é¤å…å›¾ç‰‡å®¹å™¨ï¼Œå›ºå®šé«˜åº¦180px |
| .info-content | è¯¦æƒ…å†…å®¹åŒºåŸŸï¼ŒåŒ…å«é¤å…åŸºæœ¬ä¿¡æ¯ |
| .info-item | ä¿¡æ¯é¡¹å®¹å™¨ï¼Œå¼¹æ€§å¸ƒå±€æ˜¾ç¤ºæ ‡ç­¾å’Œå€¼ |
| .info-description | é¤å…æè¿°åŒºåŸŸï¼Œè¾¹æ¡†åˆ†éš” |
| .info-actions | æ“ä½œæŒ‰é’®åŒºåŸŸï¼Œåº•éƒ¨è¾¹æ¡†åˆ†éš” |
| .action-btn | æ“ä½œæŒ‰é’®æ ·å¼ï¼Œçº¢è‰²èƒŒæ™¯ç™½è‰²æ–‡å­— |

### RestaurantMarker
```vue
é¤å…æ ‡è®°ç»„ä»¶ï¼Œç”¨äºæ˜¾ç¤ºé¤å…åœ¨åœ°å›¾ä¸Šçš„ä½ç½®
<template>
  <div 
    class="marker-container" 
    :class="{ 'active': isActive }" 
    @click="handleClick"
  >
    <div class="marker-icon">
      <span>ğŸœ</span>
    </div>
    <div v-if="showTooltip" class="marker-tooltip">
      {{ restaurant.name }}
    </div>
  </div>
</template>
```

**å±æ€§ä¸äº‹ä»¶**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurant | Object (prop) | é¤å…å¯¹è±¡ï¼Œå¿…é¡»æä¾› |
| isActive | Boolean (prop) | æ˜¯å¦å¤„äºé€‰ä¸­çŠ¶æ€ï¼Œé»˜è®¤ä¸ºfalse |
| showTooltip | ref | æ˜¯å¦æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œé€šè¿‡é¼ æ ‡æ‚¬åœæ§åˆ¶ |
| handleClick | Function | å¤„ç†ç‚¹å‡»äº‹ä»¶ |
| click | Event | ç‚¹å‡»æ ‡è®°äº‹ä»¶ï¼Œè¿”å›é¤å…å¯¹è±¡ |
| handleMouseEnter | Function | å¤„ç†é¼ æ ‡è¿›å…¥äº‹ä»¶ï¼Œæ˜¾ç¤ºæç¤º |
| handleMouseLeave | Function | å¤„ç†é¼ æ ‡ç¦»å¼€äº‹ä»¶ï¼Œéšè—æç¤º |

**æ ·å¼è¯´æ˜**
| ç±»å | æè¿° |
|------|------|
| .marker-container | æ ‡è®°å®¹å™¨ï¼Œç›¸å¯¹å®šä½ï¼Œæ·»åŠ é¼ æ ‡æ‚¬åœæ•ˆæœ |
| .marker-icon | æ ‡è®°å›¾æ ‡ï¼Œçº¢è‰²åœ†å½¢èƒŒæ™¯ï¼Œæ–‡å­—å±…ä¸­ |
| .marker-tooltip | æ‚¬åœæç¤ºï¼Œç»å¯¹å®šä½äºæ ‡è®°ä¸Šæ–¹ï¼Œç™½è‰²èƒŒæ™¯ |
| .active | é€‰ä¸­çŠ¶æ€æ ·å¼ï¼Œæ›´æ”¹æ ‡è®°é¢œè‰²å’Œç¼©æ”¾ |

## åç«¯API

### å¥åº·æ£€æŸ¥API

```
GET /api/health
```

**å“åº”**
```json
{
  "status": "success",
  "message": "APIæœåŠ¡æ­£å¸¸è¿è¡Œ"
}
```

### è·å–é¤å…åˆ—è¡¨

```
GET /api/restaurants/
```

**æŸ¥è¯¢å‚æ•°**
- `district`: (å¯é€‰) æŒ‰åŒºåŸŸç­›é€‰
- `food_type`: (å¯é€‰) æŒ‰ç¾é£Ÿç±»å‹ç­›é€‰
- `query`: (å¯é€‰) æŒ‰åç§°æˆ–æè¿°æœç´¢

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "image_url": "https://example.com/images/restaurant1.jpg"
  },
  {
    // å…¶ä»–é¤å…...
  }
]
```

### è·å–é¤å…è¯¦æƒ…

```
GET /api/restaurants/<id>
```

**è·¯å¾„å‚æ•°**
- `id`: é¤å…ID

**å“åº”**
```json
{
  "id": 1,
  "name": "é»„é¹¤æ¥¼å°åƒåº—",
  "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
  "latitude": 30.5433,
  "longitude": 114.3008,
  "phone": "027-88888888",
  "food_type": "æ¹–åŒ—èœ",
  "description": "ä»¥çƒ­å¹²é¢ã€è±†çš®ç­‰æ­¦æ±‰ç‰¹è‰²å°åƒä¸ºä¸»",
  "image_url": "https://example.com/images/restaurant1.jpg",
  "business_hours": "å‘¨ä¸€è‡³å‘¨æ—¥ 9:00-22:00",
  "district": "æ­¦æ˜ŒåŒº"
}
```

### è·å–åŒºåŸŸåˆ—è¡¨

```
GET /api/restaurants/districts
```

**å“åº”**
```json
[
  "æ­¦æ˜ŒåŒº",
  "æ±‰é˜³åŒº",
  "æ±Ÿæ±‰åŒº",
  "æ´ªå±±åŒº"
]
```

### è·å–ç¾é£Ÿç±»å‹åˆ—è¡¨

```
GET /api/restaurants/food-types
```

**å“åº”**
```json
[
  "æ¹–åŒ—èœ",
  "å·èœ",
  "å°åƒ",
  "çƒ§çƒ¤",
  "è¥¿é¤",
  "ç³•ç‚¹"
]
```

### è·å–é™„è¿‘é¤å…

```
GET /api/restaurants/nearby
```

**æŸ¥è¯¢å‚æ•°**
- `lat`: (å¿…é¡») çº¬åº¦
- `lng`: (å¿…é¡») ç»åº¦
- `distance`: (å¯é€‰) åŠå¾„èŒƒå›´ï¼Œå•ä½ä¸ºå…¬é‡Œï¼Œé»˜è®¤ä¸º2

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "distance_km": 0.25,
    "image_url": "https://example.com/images/restaurant1.jpg"
  },
  {
    // å…¶ä»–é™„è¿‘é¤å…...
  }
]
```

### è·å–è¾¹ç•Œæ¡†å†…é¤å…

```
GET /api/restaurants/bbox
```

**æŸ¥è¯¢å‚æ•°**
- `min_lat`: (å¿…é¡») æœ€å°çº¬åº¦
- `min_lng`: (å¿…é¡») æœ€å°ç»åº¦
- `max_lat`: (å¿…é¡») æœ€å¤§çº¬åº¦
- `max_lng`: (å¿…é¡») æœ€å¤§ç»åº¦

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "image_url": "https://example.com/images/restaurant1.jpg"
  },
  {
    // åŒºåŸŸå†…å…¶ä»–é¤å…...
  }
]
```

### æŒ‰åŒºåŸŸç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-district
```

**å“åº”**
```json
[
  {
    "district": "æ­¦æ˜ŒåŒº",
    "count": 3
  },
  {
    "district": "æ´ªå±±åŒº",
    "count": 1
  },
  {
    "district": "æ±Ÿæ±‰åŒº",
    "count": 1
  }
]
```

### æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-food-type
```

**å“åº”**
```json
[
  {
    "food_type": "æ¹–åŒ—èœ",
    "count": 1
  },
  {
    "food_type": "å°åƒ",
    "count": 1
  },
  {
    "food_type": "çƒ§çƒ¤",
    "count": 1
  },
  {
    "food_type": "è¥¿é¤",
    "count": 1
  },
  {
    "food_type": "ç³•ç‚¹",
    "count": 1
  }
]
```

### è·å–é¤å…è¯„ä»·

```
GET /api/restaurants/<id>/reviews
```

**è·¯å¾„å‚æ•°**
- `id`: é¤å…ID

**å“åº”**
```json
[
  {
    "id": 1,
    "restaurant_id": 1,
    "rating": 4,
    "comment": "å‘³é“å¾ˆå¥½ï¼Œç¯å¢ƒä¹Ÿä¸é”™ã€‚",
    "user_name": "æ­¦æ±‰åƒè´§",
    "created_at": "2023-04-20T14:30:00"
  },
  {
    // å…¶ä»–è¯„ä»·...
  }
]
```

### æ·»åŠ é¤å…è¯„ä»·

```
POST /api/restaurants/<id>/reviews
```

**è·¯å¾„å‚æ•°**
- `id`: é¤å…ID

**è¯·æ±‚ä½“**
```json
{
  "rating": 4,
  "comment": "å‘³é“å¾ˆå¥½ï¼Œç¯å¢ƒä¹Ÿä¸é”™ã€‚",
  "user_name": "æ­¦æ±‰åƒè´§"
}
```

**å“åº”**
```json
{
  "id": 1,
  "restaurant_id": 1,
  "rating": 4,
  "comment": "å‘³é“å¾ˆå¥½ï¼Œç¯å¢ƒä¹Ÿä¸é”™ã€‚",
  "user_name": "æ­¦æ±‰åƒè´§",
  "created_at": "2023-04-20T14:30:00"
}
```

## æ•°æ®æ¨¡å‹

### Restaurant é¤å…

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| name | String(100) | æ˜¯ | é¤å…åç§° |
| address | String(200) | æ˜¯ | åœ°å€ |
| latitude | Float | æ˜¯ | çº¬åº¦ |
| longitude | Float | æ˜¯ | ç»åº¦ |
| location | Geometry(Point,4326) | è‡ªåŠ¨ | åœ°ç†ä½ç½®ç‚¹ |
| phone | String(20) | å¦ | è”ç³»ç”µè¯ |
| food_type | String(50) | å¦ | ç¾é£Ÿç±»å‹ |
| description | Text | å¦ | æè¿° |
| image_url | String(255) | å¦ | å›¾ç‰‡é“¾æ¥ |
| business_hours | String(200) | å¦ | è¥ä¸šæ—¶é—´ |
| district | String(50) | å¦ | æ‰€åœ¨åŒºåŸŸ |
| created_at | DateTime | è‡ªåŠ¨ | åˆ›å»ºæ—¶é—´ |
| updated_at | DateTime | è‡ªåŠ¨ | æ›´æ–°æ—¶é—´ |

### Review è¯„ä»·

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| restaurant_id | Integer | æ˜¯ | é¤å…IDï¼Œå¤–é”® |
| rating | Integer | æ˜¯ | è¯„åˆ†(1-5æ˜Ÿ) |
| comment | Text | å¦ | è¯„ä»·å†…å®¹ |
| user_name | String(50) | å¦ | ç”¨æˆ·å |
| created_at | DateTime | è‡ªåŠ¨ | åˆ›å»ºæ—¶é—´ |

## å‰ç«¯æœåŠ¡

### APIæœåŠ¡

**æ–‡ä»¶è·¯å¾„**: `src/services/api.js`

| å‡½æ•°å | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|------|------|
| getRestaurants | filters: Object | Promise<Array> | è·å–é¤å…åˆ—è¡¨ï¼Œå¯é€‰ç­›é€‰å‚æ•° |
| getRestaurantById | id: Number | Promise<Object> | è·å–æŒ‡å®šIDçš„é¤å…è¯¦æƒ… |
| getDistricts | æ—  | Promise<Array> | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| getFoodTypes | æ—  | Promise<Array> | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| getNearbyRestaurants | lat: Number, lng: Number, distance: Number | Promise<Array> | è·å–æŒ‡å®šåæ ‡é™„è¿‘çš„é¤å… |
| getRestaurantsInBoundingBox | minLat: Number, minLng: Number, maxLat: Number, maxLng: Number | Promise<Array> | è·å–æŒ‡å®šçŸ©å½¢åŒºåŸŸå†…çš„é¤å… |
| getRestaurantStatsByDistrict | æ—  | Promise<Array> | è·å–æŒ‰åŒºåŸŸç»Ÿè®¡çš„é¤å…æ•°é‡ |
| getRestaurantStatsByFoodType | æ—  | Promise<Array> | è·å–æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡çš„é¤å…æ•°é‡ |

### çŠ¶æ€ç®¡ç†

**æ–‡ä»¶è·¯å¾„**: `src/stores/restaurant.js`

**çŠ¶æ€**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurants | Array | æ‰€æœ‰é¤å…æ•°æ® |
| filteredRestaurants | Array | ç­›é€‰åçš„é¤å…æ•°æ® |
| selectedRestaurant | Object | å½“å‰é€‰ä¸­çš„é¤å… |
| loading | Boolean | åŠ è½½çŠ¶æ€ |
| error | String | é”™è¯¯ä¿¡æ¯ |
| filters | Object | å½“å‰ç­›é€‰æ¡ä»¶ |
| districtList | Array | åŒºåŸŸåˆ—è¡¨ |
| foodTypeList | Array | ç¾é£Ÿç±»å‹åˆ—è¡¨ |

**Actions**
| åç§° | å‚æ•° | æè¿° |
|------|------|------|
| fetchRestaurants | æ—  | è·å–æ‰€æœ‰é¤å…æ•°æ® |
| fetchRestaurantDetails | id: Number | è·å–æŒ‡å®šIDçš„é¤å…è¯¦æƒ… |
| fetchDistrictList | æ—  | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| fetchFoodTypeList | æ—  | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| applyFilters | filterOptions: Object | åº”ç”¨ç­›é€‰æ¡ä»¶ |
| resetFilters | æ—  | é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶ |
| setSelectedRestaurant | restaurant: Object | è®¾ç½®é€‰ä¸­çš„é¤å… |
| clearSelectedRestaurant | æ—  | æ¸…é™¤é€‰ä¸­çš„é¤å… |

## ç©ºé—´æ•°æ®æ ¼å¼

### GeoJSON

åœ°ç†ä½ç½®æ•°æ®ä½¿ç”¨GeoJSONæ ¼å¼ï¼š

```json
{
  "type": "Point",
  "coordinates": [114.3008, 30.5433]
}
```

åæ ‡ç³»ç»Ÿä½¿ç”¨WGS84 (EPSG:4326)ï¼Œä¸Mapbox GL JSå…¼å®¹ã€‚

## åç«¯è¾…åŠ©æ¨¡å—

### GeoHelper

**æ–‡ä»¶è·¯å¾„**: `app/geo_helper.py`

| å‡½æ•°å | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|------|------|
| point_from_coords | lng: Float, lat: Float, srid: Int | STPoint | ä»ç»çº¬åº¦åˆ›å»ºç‚¹å‡ ä½•ä½“ |
| calculate_distance | point1: STPoint, point2: STPoint | Float | è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»(å…¬é‡Œ) |
| create_bbox | min_lng: Float, min_lat: Float, max_lng: Float, max_lat: Float, srid: Int | STPolygon | åˆ›å»ºè¾¹ç•Œæ¡†å‡ ä½•ä½“ |
| within_distance | point1: STPoint, point2: STPoint, distance_km: Float | Boolean | æ£€æŸ¥ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»æ˜¯å¦åœ¨æŒ‡å®šå…¬é‡Œæ•°å†… |

## åœ°å›¾äº¤äº’åŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| æ˜¾ç¤ºé¤å…æ ‡è®° | åœ¨åœ°å›¾ä¸Šä»¥æ ‡è®°å½¢å¼æ˜¾ç¤ºé¤å…ä½ç½® |
| ç‚¹å‡»æ ‡è®°æŸ¥çœ‹è¯¦æƒ… | ç‚¹å‡»é¤å…æ ‡è®°åï¼Œæ˜¾ç¤ºè¯¥é¤å…çš„è¯¦ç»†ä¿¡æ¯ |
| åœ°å›¾ç¼©æ”¾æ§åˆ¶ | é€šè¿‡æŒ‰é’®æ§åˆ¶åœ°å›¾çš„æ”¾å¤§å’Œç¼©å° |
| é‡ç½®è§†å›¾ | æ¢å¤åœ°å›¾åˆ°åˆå§‹è§†å›¾çŠ¶æ€ |
| æ ‡è®°é«˜äº® | é€‰ä¸­çš„é¤å…æ ‡è®°ä¼šé«˜äº®æ˜¾ç¤º |
| ç­›é€‰é¤å… | æ ¹æ®åŒºåŸŸæˆ–ç¾é£Ÿç±»å‹ç­›é€‰é¤å…æ˜¾ç¤º |
| æœç´¢é¤å… | æ ¹æ®é¤å…åç§°æˆ–æè¿°æœç´¢ |
| é™„è¿‘é¤å…æŸ¥è¯¢ | æŸ¥è¯¢ç”¨æˆ·å½“å‰ä½ç½®é™„è¿‘çš„é¤å… |
| åŒºåŸŸå†…é¤å…æŸ¥è¯¢ | æŸ¥è¯¢åœ°å›¾å¯è§†åŒºåŸŸå†…çš„é¤å… |
| è·ç¦»æ’åº | æ ¹æ®ä¸å½“å‰ä½ç½®çš„è·ç¦»æ’åºé¤å… |
| åœ°ç†ç»Ÿè®¡ | å±•ç¤ºå„åŒºåŸŸé¤å…åˆ†å¸ƒæ•°é‡ |
| åœ°å›¾äº‹ä»¶ç›‘å¬ | ç›‘å¬åœ°å›¾ç‚¹å‡»ã€ç§»åŠ¨ç­‰äº‹ä»¶ |
| å…¨å±æ˜¾ç¤º | æ”¯æŒåœ°å›¾å…¨å±å±•ç¤º |
| æ¯”ä¾‹å°º | æ˜¾ç¤ºåœ°å›¾æ¯”ä¾‹å°º |
| é¤å…åˆ—è¡¨è”åŠ¨ | åˆ—è¡¨é€‰æ‹©å’Œåœ°å›¾æ ‡è®°è”åŠ¨ |