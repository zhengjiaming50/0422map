è¯·æŸ¥çœ‹å¹¶æ›´æ–°æ¥å£æ–‡æ¡£.mdæ–‡ä»¶ï¼ŒåŒ…å«æœ¬æ¬¡å¼€å‘çš„æ–°æ¥å£ï¼š
1. åç«¯APIï¼šæ–°å¢/ä¿®æ”¹çš„ç«¯ç‚¹ã€å‚æ•°å’Œè¿”å›æ ¼å¼
2. å‰ç«¯ç»„ä»¶ï¼šæ–°åˆ›å»ºç»„ä»¶çš„propsã€eventså’Œä½¿ç”¨æ–¹æ³•
3. æ•°æ®æ¨¡å‹ï¼šæ–°å¢/ä¿®æ”¹çš„å®ä½“ç»“æ„å’Œå…³ç³»
4. åœ°å›¾äº¤äº’ï¼šæ–°å¢åœ°å›¾åŠŸèƒ½å’Œæ•°æ®æ ¼å¼

ä¿æŒæ–‡æ¡£æ ¼å¼ç»Ÿä¸€ï¼Œä½¿ç”¨markdownè¡¨æ ¼æˆ–ä»£ç å—å±•ç¤ºæ¥å£ç»†èŠ‚ã€‚

## å‰ç«¯ç»„ä»¶

### HomeView
```vue
ä¸»é¡µé¢ç»„ä»¶ï¼Œç›®å‰ä¸ºåŸºç¡€ç»“æ„
<template>
  <div class="home">
    <h1>æ­¦æ±‰ç¾é£Ÿåœ°å›¾</h1>
    <p>æ¬¢è¿ä½¿ç”¨æ­¦æ±‰ç¾é£Ÿåœ°å›¾ç³»ç»Ÿ</p>
    <div class="actions">
      <router-link to="/map" class="map-btn">æŸ¥çœ‹åœ°å›¾</router-link>
    </div>
  </div>
</template>
```

### MapView
```vue
åœ°å›¾é¡µé¢ç»„ä»¶ï¼Œé›†æˆMapContainerå’ŒFilterPanel
<template>
  <div class="map-view">
    <div class="header">
      <h1>æ­¦æ±‰ç¾é£Ÿåœ°å›¾</h1>
      <p>æ¢ç´¢æ­¦æ±‰ç‰¹è‰²ç¾é£Ÿåœ°ç‚¹</p>
    </div>
    <div class="filter-container">
      <FilterPanel />
    </div>
    <div class="map-container-wrapper">
      <MapContainer />
    </div>
  </div>
</template>
```

### MapContainer
```vue
åœ°å›¾å®¹å™¨ç»„ä»¶ï¼Œè´Ÿè´£æ¸²æŸ“å’Œæ§åˆ¶Mapboxåœ°å›¾
<template>
  <div>
    <div id="map" class="map-container"></div>
    <div class="map-controls">
      <button @click="zoomIn" class="map-control-btn">+</button>
      <button @click="zoomOut" class="map-control-btn">-</button>
      <button @click="resetView" class="map-control-btn">âŸ³</button>
    </div>
    <!-- é¤å…è¯¦æƒ…é¢æ¿ -->
    <div v-if="selectedRestaurant" class="restaurant-panel">
      <RestaurantInfo 
        :restaurant="selectedRestaurant" 
        @close="closeRestaurantInfo" 
      />
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| mapInstance | ref | åœ°å›¾å®ä¾‹å¼•ç”¨ |
| initialCenter | Array | åˆå§‹åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡ [ç»åº¦, çº¬åº¦] |
| initialZoom | Number | åˆå§‹ç¼©æ”¾çº§åˆ« |
| filteredRestaurants | ref | å½“å‰ç­›é€‰åçš„é¤å…æ•°æ® |
| selectedRestaurant | ref | å½“å‰é€‰ä¸­çš„é¤å… |
| isLoading | ref | åŠ è½½çŠ¶æ€æ ‡å¿— |
| error | ref | é”™è¯¯ä¿¡æ¯ |
| markers | ref | é¤å…æ ‡è®°é›†åˆ |
| zoomIn() | Function | æ”¾å¤§åœ°å›¾ |
| zoomOut() | Function | ç¼©å°åœ°å›¾ |
| resetView() | Function | é‡ç½®åœ°å›¾è§†å›¾åˆ°åˆå§‹çŠ¶æ€ |
| fetchRestaurants() | Function | è·å–æ‰€æœ‰é¤å…æ•°æ® |
| showRestaurantDetails(id) | Function | æ˜¾ç¤ºé¤å…è¯¦æƒ… |
| closeRestaurantInfo() | Function | å…³é—­é¤å…è¯¦æƒ… |

### FilterPanel
```vue
ç­›é€‰é¢æ¿ç»„ä»¶ï¼Œæä¾›ç­›é€‰å’Œæœç´¢åŠŸèƒ½
<template>
  <div class="filter-panel">
    <div class="search-container">
      <input
        type="text"
        v-model="searchQuery"
        placeholder="æœç´¢é¤å…åç§°..."
        class="search-input"
        @input="handleSearch"
      />
      <button class="search-btn" @click="handleSearch">
        <span>ğŸ”</span>
      </button>
    </div>
    
    <div class="filter-container">
      <div class="filter-group">
        <h4>åŒºåŸŸç­›é€‰</h4>
        <select v-model="selectedDistrict" class="filter-select" @change="applyFilters">
          <option value="">æ‰€æœ‰åŒºåŸŸ</option>
          <option v-for="district in districtList" :key="district" :value="district">
            {{ district }}
          </option>
        </select>
      </div>
      
      <div class="filter-group">
        <h4>ç¾é£Ÿç±»å‹</h4>
        <select v-model="selectedFoodType" class="filter-select" @change="applyFilters">
          <option value="">æ‰€æœ‰ç±»å‹</option>
          <option v-for="foodType in foodTypeList" :key="foodType" :value="foodType">
            {{ foodType }}
          </option>
        </select>
      </div>
    </div>
    
    <div class="filter-actions">
      <button class="reset-btn" @click="resetFilters">é‡ç½®ç­›é€‰</button>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| searchQuery | ref | æœç´¢å…³é”®è¯ |
| selectedDistrict | ref | å½“å‰é€‰ä¸­çš„åŒºåŸŸ |
| selectedFoodType | ref | å½“å‰é€‰ä¸­çš„ç¾é£Ÿç±»å‹ |
| districtList | computed | åŒºåŸŸåˆ—è¡¨ |
| foodTypeList | computed | ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| handleSearch() | Function | å¤„ç†æœç´¢æ“ä½œ |
| applyFilters() | Function | åº”ç”¨ç­›é€‰æ¡ä»¶ |
| resetFilters() | Function | é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶ |

### RestaurantInfo
```vue
é¤å…è¯¦æƒ…ç»„ä»¶ï¼Œæ˜¾ç¤ºé¤å…è¯¦ç»†ä¿¡æ¯
<template>
  <div class="restaurant-info">
    <div class="info-header">
      <h3>{{ restaurant.name }}</h3>
      <button class="close-btn" @click="$emit('close')">&times;</button>
    </div>
    
    <div v-if="restaurant.image_url" class="info-image">
      <img :src="restaurant.image_url" :alt="restaurant.name">
    </div>
    
    <div class="info-content">
      <div v-if="reviewData" class="rating-summary">
        <RatingStars :model-value="reviewData.avg_rating" />
        <span class="rating-text">{{ reviewData.avg_rating.toFixed(1) }} ({{ reviewData.review_count }})</span>
      </div>
      <!-- å…¶ä»–é¤å…ä¿¡æ¯ -->
    </div>
    
    <!-- ç”¨æˆ·è¯„ä»·åŒºåŸŸ -->
    <div class="info-reviews">
      <div class="section-heading">
        <h4>ç”¨æˆ·è¯„ä»·</h4>
        <button v-if="!showReviewForm" class="add-review-btn" @click="showReviewForm = true">
          å†™è¯„ä»·
        </button>
      </div>
      
      <ReviewForm 
        v-if="showReviewForm" 
        :restaurant-id="restaurant.id" 
        :on-success="handleReviewSubmit"
      />
      
      <ReviewList 
        :reviews="reviews" 
        :avg-rating="reviewData?.avg_rating || 0" 
        :review-count="reviewData?.review_count || 0"
        :loading="isLoading" 
        :error="error"
      />
    </div>
  </div>
</template>
```

**å±æ€§ä¸äº‹ä»¶**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurant | Object (prop) | é¤å…è¯¦æƒ…å¯¹è±¡ï¼Œå¿…é¡»æä¾› |
| reviews | ref | é¤å…çš„ç”¨æˆ·è¯„ä»·åˆ—è¡¨ |
| reviewData | ref | è¯„ä»·ç»Ÿè®¡æ•°æ®ï¼ˆå¹³å‡åˆ†ã€è¯„ä»·æ•°é‡ï¼‰ |
| isLoading | ref | è¯„ä»·åŠ è½½çŠ¶æ€ |
| error | ref | è¯„ä»·åŠ è½½é”™è¯¯ä¿¡æ¯ |
| showReviewForm | ref | æ˜¯å¦æ˜¾ç¤ºè¯„ä»·è¡¨å• |
| fetchReviews() | Function | è·å–é¤å…è¯„ä»·æ•°æ® |
| handleReviewSubmit() | Function | å¤„ç†è¯„ä»·æäº¤ |
| close | Event | å…³é—­è¯¦æƒ…é¢æ¿äº‹ä»¶ |

### RestaurantMarker
```vue
é¤å…æ ‡è®°ç»„ä»¶ï¼Œç”¨äºæ˜¾ç¤ºé¤å…åœ¨åœ°å›¾ä¸Šçš„ä½ç½®
<template>
  <div class="marker-container">
    <div 
      class="map-marker"
      :class="{ 'active': isActive }"
      @click="handleMarkerClick"
    >
      <span class="icon">ğŸœ</span>
    </div>
  </div>
</template>
```

**å±æ€§ä¸äº‹ä»¶**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurant | Object (prop) | é¤å…å¯¹è±¡ï¼Œå¿…é¡»æä¾› |
| isActive | Boolean (prop) | æ˜¯å¦å¤„äºé€‰ä¸­çŠ¶æ€ |
| click | Event | ç‚¹å‡»æ ‡è®°äº‹ä»¶ï¼Œè¿”å›é¤å…å¯¹è±¡ |

### RatingStars
```vue
è¯„åˆ†æ˜Ÿçº§ç»„ä»¶ï¼Œç”¨äºæ˜¾ç¤ºå’Œé€‰æ‹©è¯„åˆ†
<template>
  <div class="rating-stars">
    <div class="stars-container">
      <span 
        v-for="star in 5" 
        :key="star"
        class="star"
        :class="{
          'filled': (modelValue >= star || tempRating >= star),
          'interactive': interactive
        }"
        @click="interactive && updateRating(star)"
        @mouseover="interactive && setTempRating(star)"
        @mouseleave="interactive && resetTempRating()"
      >
        â˜…
      </span>
    </div>
    <span v-if="showValue" class="rating-value">{{ modelValue || tempRating || 0 }}/5</span>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| modelValue | Number (prop) | å½“å‰è¯„åˆ†å€¼ (v-modelç»‘å®š) |
| interactive | Boolean (prop) | æ˜¯å¦å…è®¸äº¤äº’ |
| showValue | Boolean (prop) | æ˜¯å¦æ˜¾ç¤ºè¯„åˆ†æ•°å€¼ |
| tempRating | ref | ä¸´æ—¶è¯„åˆ†å€¼ï¼ˆæ‚¬åœçŠ¶æ€ï¼‰ |
| updateRating() | Function | æ›´æ–°è¯„åˆ†å€¼ |
| setTempRating() | Function | è®¾ç½®ä¸´æ—¶è¯„åˆ†å€¼ |
| resetTempRating() | Function | é‡ç½®ä¸´æ—¶è¯„åˆ†å€¼ |
| update:modelValue | Event | æ›´æ–°v-modelç»‘å®šå€¼ |

### ReviewList
```vue
è¯„è®ºåˆ—è¡¨ç»„ä»¶ï¼Œæ˜¾ç¤ºé¤å…è¯„ä»·åˆ—è¡¨
<template>
  <div class="review-list">
    <div v-if="loading" class="loading">
      åŠ è½½è¯„ä»·ä¸­...
    </div>
    
    <div v-else-if="error" class="error">
      {{ error }}
    </div>
    
    <div v-else-if="reviews.length === 0" class="no-reviews">
      è¿˜æ²¡æœ‰è¯„ä»·ï¼Œå¿«æ¥æ·»åŠ ç¬¬ä¸€æ¡è¯„ä»·å§ï¼
    </div>
    
    <div v-else>
      <div class="review-summary">
        <div class="avg-rating">
          <span class="rating-value">{{ avgRating }}</span>
          <RatingStars :model-value="avgRating" />
        </div>
        <span class="review-count">å…± {{ reviewCount }} æ¡è¯„ä»·</span>
      </div>
      
      <div class="review-items">
        <div v-for="review in reviews" :key="review.id" class="review-item">
          <div class="review-header">
            <span class="user-name">{{ review.user_name || 'åŒ¿åç”¨æˆ·' }}</span>
            <div class="review-rating">
              <RatingStars :model-value="review.rating" />
            </div>
          </div>
          
          <div class="review-content">
            {{ review.comment || 'è¯¥ç”¨æˆ·æœªå¡«å†™è¯„ä»·å†…å®¹' }}
          </div>
          
          <div class="review-time">
            {{ formatDate(review.created_at) }}
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| reviews | Array (prop) | è¯„ä»·åˆ—è¡¨æ•°æ® |
| avgRating | Number (prop) | å¹³å‡è¯„åˆ† |
| reviewCount | Number (prop) | è¯„ä»·æ€»æ•° |
| loading | Boolean (prop) | åŠ è½½çŠ¶æ€ |
| error | String (prop) | é”™è¯¯ä¿¡æ¯ |
| formatDate() | Function | æ ¼å¼åŒ–æ—¥æœŸ |

### ReviewForm
```vue
è¯„è®ºæäº¤è¡¨å•ç»„ä»¶ï¼Œç”¨äºæäº¤ç”¨æˆ·è¯„ä»·
<template>
  <div class="review-form">
    <h4>æ·»åŠ æ‚¨çš„è¯„ä»·</h4>
    
    <div class="form-group">
      <label>æ‚¨çš„è¯„åˆ†:</label>
      <RatingStars 
        v-model="rating" 
        :interactive="true" 
        :show-value="true" 
      />
    </div>
    
    <div class="form-group">
      <label for="user-name">æ‚¨çš„åå­— (å¯é€‰):</label>
      <input 
        type="text" 
        id="user-name" 
        v-model="userName" 
        placeholder="è¯·è¾“å…¥æ‚¨çš„åå­—"
        class="form-input"
      />
    </div>
    
    <div class="form-group">
      <label for="comment">è¯„ä»·å†…å®¹ (å¯é€‰):</label>
      <textarea 
        id="comment" 
        v-model="comment" 
        placeholder="åˆ†äº«æ‚¨çš„ç”¨é¤ä½“éªŒ..."
        class="form-textarea"
        rows="3"
      ></textarea>
    </div>
    
    <div class="form-actions">
      <button 
        @click="submitReview" 
        :disabled="!isValid || isSubmitting"
        class="submit-btn"
      >
        {{ isSubmitting ? 'æäº¤ä¸­...' : 'æäº¤è¯„ä»·' }}
      </button>
      <div v-if="error" class="error-message">{{ error }}</div>
    </div>
  </div>
</template>
```

**å±æ€§ä¸æ–¹æ³•**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurantId | Number (prop) | é¤å…ID |
| onSuccess | Function (prop) | è¯„ä»·æäº¤æˆåŠŸå›è°ƒ |
| rating | ref | å½“å‰è¯„åˆ†å€¼ |
| userName | ref | ç”¨æˆ·å |
| comment | ref | è¯„ä»·å†…å®¹ |
| isSubmitting | ref | æäº¤çŠ¶æ€ |
| error | ref | é”™è¯¯ä¿¡æ¯ |
| isValid | computed | è¡¨å•æ˜¯å¦æœ‰æ•ˆ |
| submitReview() | Function | æäº¤è¯„ä»· |

## åç«¯API

### è·å–é¤å…åˆ—è¡¨

```
GET /api/restaurants/
```

**æŸ¥è¯¢å‚æ•°**
- `district`: (å¯é€‰) æŒ‰åŒºåŸŸç­›é€‰
- `food_type`: (å¯é€‰) æŒ‰ç¾é£Ÿç±»å‹ç­›é€‰
- `query`: (å¯é€‰) æŒ‰åç§°æˆ–æè¿°æœç´¢

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "image_url": "http://example.com/image1.jpg"
  },
  {
    // å…¶ä»–é¤å…...
  }
]
```

### è·å–é¤å…è¯¦æƒ…

```
GET /api/restaurants/<id>
```

**è·¯å¾„å‚æ•°**
- `id`: é¤å…ID

**å“åº”**
```json
{
  "id": 1,
  "name": "é»„é¹¤æ¥¼å°åƒåº—",
  "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
  "latitude": 30.5433,
  "longitude": 114.3008,
  "phone": "027-88888888",
  "food_type": "æ¹–åŒ—èœ",
  "description": "ä»¥çƒ­å¹²é¢ã€è±†çš®ç­‰æ­¦æ±‰ç‰¹è‰²å°åƒä¸ºä¸»",
  "image_url": "http://example.com/image1.jpg",
  "business_hours": "å‘¨ä¸€è‡³å‘¨æ—¥ 9:00-22:00",
  "district": "æ­¦æ˜ŒåŒº"
}
```

### è·å–åŒºåŸŸåˆ—è¡¨

```
GET /api/restaurants/districts
```

**å“åº”**
```json
[
  "æ­¦æ˜ŒåŒº",
  "æ±‰é˜³åŒº",
  "æ±Ÿæ±‰åŒº",
  "æ±Ÿå²¸åŒº",
  "ç¡šå£åŒº",
  "æ´ªå±±åŒº"
]
```

### è·å–ç¾é£Ÿç±»å‹åˆ—è¡¨

```
GET /api/restaurants/food-types
```

**å“åº”**
```json
[
  "æ¹–åŒ—èœ",
  "å·èœ",
  "ç²¤èœ",
  "è¥¿é¤",
  "å°åƒ",
  "çƒ§çƒ¤"
]
```

### è·å–é™„è¿‘é¤å…

```
GET /api/restaurants/nearby
```

**æŸ¥è¯¢å‚æ•°**
- `lat`: (å¿…é¡») çº¬åº¦
- `lng`: (å¿…é¡») ç»åº¦
- `distance`: (å¯é€‰) åŠå¾„èŒƒå›´ï¼Œå•ä½ä¸ºå…¬é‡Œï¼Œé»˜è®¤ä¸º2

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "distance_km": 0.25,
    "image_url": "http://example.com/image1.jpg"
  },
  {
    // å…¶ä»–é™„è¿‘é¤å…...
  }
]
```

### è·å–åŒºåŸŸå†…é¤å…

```
GET /api/restaurants/bbox
```

**æŸ¥è¯¢å‚æ•°**
- `min_lat`: (å¿…é¡») æœ€å°çº¬åº¦
- `min_lng`: (å¿…é¡») æœ€å°ç»åº¦
- `max_lat`: (å¿…é¡») æœ€å¤§çº¬åº¦
- `max_lng`: (å¿…é¡») æœ€å¤§ç»åº¦

**å“åº”**
```json
[
  {
    "id": 1,
    "name": "é»„é¹¤æ¥¼å°åƒåº—",
    "address": "æ­¦æ±‰å¸‚æ­¦æ˜ŒåŒºè›‡å±±è¥¿å±±å¡ç‰¹1å·",
    "latitude": 30.5433,
    "longitude": 114.3008,
    "food_type": "æ¹–åŒ—èœ",
    "district": "æ­¦æ˜ŒåŒº",
    "image_url": "http://example.com/image1.jpg"
  },
  {
    // åŒºåŸŸå†…å…¶ä»–é¤å…...
  }
]
```

### æŒ‰åŒºåŸŸç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-district
```

**å“åº”**
```json
[
  {
    "district": "æ­¦æ˜ŒåŒº",
    "count": 3
  },
  {
    "district": "æ´ªå±±åŒº",
    "count": 2
  },
  // å…¶ä»–åŒºåŸŸç»Ÿè®¡...
]
```

### æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡é¤å…

```
GET /api/restaurants/stats/by-food-type
```

**å“åº”**
```json
[
  {
    "food_type": "æ¹–åŒ—èœ",
    "count": 2
  },
  {
    "food_type": "çƒ§çƒ¤",
    "count": 1
  },
  // å…¶ä»–ç±»å‹ç»Ÿè®¡...
]
```

### è·å–é¤å…è¯„ä»·

```
GET /api/restaurants/<restaurant_id>/reviews
```

**è·¯å¾„å‚æ•°**
- `restaurant_id`: é¤å…ID

**å“åº”**
```json
{
  "reviews": [
    {
      "id": 1,
      "restaurant_id": 1,
      "rating": 5,
      "comment": "å‘³é“å¾ˆå¥½ï¼Œç¯å¢ƒä¹Ÿä¸é”™ã€‚",
      "user_name": "æ­¦æ±‰åƒè´§",
      "created_at": "2023-04-20T14:30:45"
    },
    {
      "id": 2,
      "restaurant_id": 1,
      "rating": 4,
      "comment": "åˆ†é‡è¶³ï¼Œä»·æ ¼å®æƒ ã€‚",
      "user_name": "ç¾é£Ÿæ¢é™©å®¶",
      "created_at": "2023-04-19T10:15:22"
    }
  ],
  "avg_rating": 4.5,
  "review_count": 2
}
```

### æäº¤é¤å…è¯„ä»·

```
POST /api/restaurants/<restaurant_id>/reviews
```

**è·¯å¾„å‚æ•°**
- `restaurant_id`: é¤å…ID

**è¯·æ±‚ä½“**
```json
{
  "rating": 5,
  "comment": "å‘³é“å¾ˆå¥½ï¼Œç¯å¢ƒä¹Ÿä¸é”™ã€‚",
  "user_name": "æ­¦æ±‰åƒè´§"
}
```

**å“åº”**
```json
{
  "id": 3,
  "restaurant_id": 1,
  "rating": 5,
  "comment": "å‘³é“å¾ˆå¥½ï¼Œç¯å¢ƒä¹Ÿä¸é”™ã€‚",
  "user_name": "æ­¦æ±‰åƒè´§",
  "created_at": "2023-04-22T09:45:12"
}
```

## æ•°æ®æ¨¡å‹

### Restaurant é¤å…

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| name | String(100) | æ˜¯ | é¤å…åç§° |
| address | String(200) | æ˜¯ | åœ°å€ |
| latitude | Float | æ˜¯ | çº¬åº¦ |
| longitude | Float | æ˜¯ | ç»åº¦ |
| location | Geometry(Point,4326) | è‡ªåŠ¨ | åœ°ç†ä½ç½®ç‚¹ |
| phone | String(20) | å¦ | è”ç³»ç”µè¯ |
| food_type | String(50) | å¦ | ç¾é£Ÿç±»å‹ |
| description | Text | å¦ | æè¿° |
| image_url | String(255) | å¦ | å›¾ç‰‡é“¾æ¥ |
| business_hours | String(200) | å¦ | è¥ä¸šæ—¶é—´ |
| district | String(50) | å¦ | æ‰€åœ¨åŒºåŸŸ |
| created_at | DateTime | è‡ªåŠ¨ | åˆ›å»ºæ—¶é—´ |
| updated_at | DateTime | è‡ªåŠ¨ | æ›´æ–°æ—¶é—´ |

### Review è¯„ä»·

| å­—æ®µ | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| id | Integer | æ˜¯ | ä¸»é”® |
| restaurant_id | Integer | æ˜¯ | å…³è”é¤å…ID(å¤–é”®) |
| rating | Integer | æ˜¯ | è¯„åˆ†(1-5) |
| comment | Text | å¦ | è¯„ä»·å†…å®¹ |
| user_name | String(50) | å¦ | ç”¨æˆ·å |
| created_at | DateTime | è‡ªåŠ¨ | åˆ›å»ºæ—¶é—´ |

## å‰ç«¯æœåŠ¡

### APIæœåŠ¡

**æ–‡ä»¶è·¯å¾„**: `src/services/api.js`

| å‡½æ•°å | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|------|------|
| getRestaurants | filters: Object | Promise<Array> | è·å–é¤å…åˆ—è¡¨ï¼Œå¯é€‰ç­›é€‰å‚æ•° |
| getRestaurantById | id: Number | Promise<Object> | è·å–æŒ‡å®šIDçš„é¤å…è¯¦æƒ… |
| getDistricts | æ—  | Promise<Array> | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| getFoodTypes | æ—  | Promise<Array> | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| getNearbyRestaurants | lat: Number, lng: Number, distance: Number | Promise<Array> | è·å–æŒ‡å®šåæ ‡é™„è¿‘çš„é¤å… |
| getRestaurantsInBoundingBox | minLat: Number, minLng: Number, maxLat: Number, maxLng: Number | Promise<Array> | è·å–æŒ‡å®šçŸ©å½¢åŒºåŸŸå†…çš„é¤å… |
| getRestaurantStatsByDistrict | æ—  | Promise<Array> | è·å–æŒ‰åŒºåŸŸç»Ÿè®¡çš„é¤å…æ•°é‡ |
| getRestaurantStatsByFoodType | æ—  | Promise<Array> | è·å–æŒ‰ç¾é£Ÿç±»å‹ç»Ÿè®¡çš„é¤å…æ•°é‡ |
| getRestaurantReviews | restaurantId: Number | Promise<Object> | è·å–æŒ‡å®šé¤å…çš„è¯„ä»·åˆ—è¡¨å’Œç»Ÿè®¡ä¿¡æ¯ |
| addRestaurantReview | restaurantId: Number, reviewData: Object | Promise<Object> | æäº¤é¤å…è¯„ä»· |

## çŠ¶æ€ç®¡ç†

### é¤å…Store

**æ–‡ä»¶è·¯å¾„**: `src/stores/restaurant.js`

**çŠ¶æ€**
| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| restaurants | Array | æ‰€æœ‰é¤å…æ•°æ® |
| filteredRestaurants | Array | ç­›é€‰åçš„é¤å…æ•°æ® |
| selectedRestaurant | Object | å½“å‰é€‰ä¸­çš„é¤å… |
| loading | Boolean | åŠ è½½çŠ¶æ€ |
| error | String | é”™è¯¯ä¿¡æ¯ |
| filters | Object | å½“å‰ç­›é€‰æ¡ä»¶ |
| districtList | Array | åŒºåŸŸåˆ—è¡¨ |
| foodTypeList | Array | ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| nearbyRestaurants | Array | é™„è¿‘é¤å…åˆ—è¡¨ |
| userLocation | Object | ç”¨æˆ·å½“å‰ä½ç½® |

**Getters**
| åç§° | å‚æ•° | è¿”å›å€¼ | æè¿° |
|------|------|------|------|
| getRestaurantById | id: Number | Object | è·å–æŒ‡å®šIDçš„é¤å… |
| getRestaurantsByDistrict | district: String | Array | æŒ‰åŒºåŸŸç­›é€‰é¤å… |
| getRestaurantsByFoodType | foodType: String | Array | æŒ‰ç¾é£Ÿç±»å‹ç­›é€‰é¤å… |
| getDistrictList | - | Array | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| getFoodTypeList | - | Array | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| getNearbyRestaurants | distance: Number | Array | è·å–ç”¨æˆ·é™„è¿‘æŒ‡å®šè·ç¦»å†…çš„é¤å… |

**Actions**
| åç§° | å‚æ•° | æè¿° |
|------|------|------|
| fetchRestaurants | - | è·å–æ‰€æœ‰é¤å…æ•°æ® |
| fetchRestaurantDetails | id: Number | è·å–æŒ‡å®šIDçš„é¤å…è¯¦æƒ… |
| fetchDistrictList | - | è·å–æ‰€æœ‰åŒºåŸŸåˆ—è¡¨ |
| fetchFoodTypeList | - | è·å–æ‰€æœ‰ç¾é£Ÿç±»å‹åˆ—è¡¨ |
| applyFilters | filterOptions: Object | åº”ç”¨ç­›é€‰æ¡ä»¶ |
| resetFilters | - | é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶ |
| clearSelectedRestaurant | - | æ¸…é™¤é€‰ä¸­çš„é¤å… |
| fetchNearbyRestaurants | lat: Number, lng: Number, distance: Number | è·å–æŒ‡å®šåæ ‡é™„è¿‘çš„é¤å… |
| setUserLocation | lat: Number, lng: Number | è®¾ç½®ç”¨æˆ·å½“å‰ä½ç½® |
| fetchRestaurantsInBoundingBox | bounds: Object | è·å–åœ°å›¾å¯è§†åŒºåŸŸå†…çš„é¤å… |

## è·¯ç”±é…ç½®

| è·¯å¾„ | åç§° | ç»„ä»¶ | æè¿° |
|------|------|------|------|
| `/` | home | HomeView | åº”ç”¨ä¸»é¡µ |
| `/map` | map | MapView | åœ°å›¾é¡µé¢ |

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ assets/       # é™æ€èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ components/   
â”‚   â”‚   â”œâ”€â”€ FilterPanel.vue    # ç­›é€‰é¢æ¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HelloWorld.vue     # ç¤ºä¾‹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MapContainer.vue   # åœ°å›¾å®¹å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ RatingStars.vue    # è¯„åˆ†æ˜Ÿçº§ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ RestaurantInfo.vue # é¤å…è¯¦æƒ…ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ RestaurantMarker.vue # é¤å…æ ‡è®°ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ReviewForm.vue     # è¯„ä»·æäº¤è¡¨å•ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ReviewList.vue     # è¯„ä»·åˆ—è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ router/       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ api.js    # é¤å…æ•°æ®API
â”‚   â”œâ”€â”€ stores/       # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ restaurant.js # é¤å…æ•°æ®çŠ¶æ€
â”‚   â”œâ”€â”€ views/        
â”‚   â”‚   â”œâ”€â”€ HomeView.vue      # é¦–é¡µç»„ä»¶
â”‚   â”‚   â””â”€â”€ MapView.vue       # åœ°å›¾é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ App.vue       # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.js       # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ style.css     # å…¨å±€æ ·å¼

backend/
â”œâ”€â”€ app/                    # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ restaurant.py   # é¤å…æ¨¡å‹
â”‚   â”‚   â””â”€â”€ review.py       # è¯„ä»·æ¨¡å‹
â”‚   â”œâ”€â”€ routes/             # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ restaurants.py  # é¤å…APIè·¯ç”±
â”‚   â”œâ”€â”€ schemas/            # æ•°æ®éªŒè¯æ¨¡å¼
â”‚   â””â”€â”€ geo_helper.py       # åœ°ç†ç©ºé—´æŸ¥è¯¢è¾…åŠ©æ¨¡å—
â”œâ”€â”€ config/                 # é…ç½®ç›®å½•
â”œâ”€â”€ tests/                  # æµ‹è¯•ç›®å½•
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”œâ”€â”€ run.py                  # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ seed_data.py            # æµ‹è¯•æ•°æ®è„šæœ¬
â”œâ”€â”€ update_seed_data.py     # æ›´æ–°æµ‹è¯•æ•°æ®è„šæœ¬(å«è¯„ä»·æ•°æ®)
â”œâ”€â”€ init_db.py              # æ•°æ®è¡¨åˆ›å»ºè„šæœ¬
â”œâ”€â”€ setup_database.py       # æ•°æ®åº“åˆ›å»ºè„šæœ¬
â”œâ”€â”€ migrations.py           # æ•°æ®åº“è¿ç§»è„šæœ¬
â”œâ”€â”€ geo_query_examples.py   # åœ°ç†ç©ºé—´æŸ¥è¯¢ç¤ºä¾‹
â”œâ”€â”€ DATABASE_SETUP.md       # æ•°æ®åº“è®¾ç½®æ–‡æ¡£
â””â”€â”€ DATABASE_INSTALL_GUIDE.md # æ•°æ®åº“å®‰è£…æŒ‡å—
```

## åœ°å›¾äº¤äº’åŠŸèƒ½

| åŠŸèƒ½ | æè¿° |
|------|------|
| æ˜¾ç¤ºé¤å…æ ‡è®° | åœ¨åœ°å›¾ä¸Šä»¥æ ‡è®°å½¢å¼æ˜¾ç¤ºé¤å…ä½ç½® |
| ç‚¹å‡»æ ‡è®°æŸ¥çœ‹è¯¦æƒ… | ç‚¹å‡»é¤å…æ ‡è®°åï¼Œæ˜¾ç¤ºè¯¥é¤å…çš„è¯¦ç»†ä¿¡æ¯ |
| åœ°å›¾ç¼©æ”¾æ§åˆ¶ | é€šè¿‡æŒ‰é’®æ§åˆ¶åœ°å›¾çš„æ”¾å¤§å’Œç¼©å° |
| é‡ç½®è§†å›¾ | æ¢å¤åœ°å›¾åˆ°åˆå§‹è§†å›¾çŠ¶æ€ |
| æ ‡è®°é«˜äº® | é€‰ä¸­çš„é¤å…æ ‡è®°ä¼šé«˜äº®æ˜¾ç¤º |
| ç­›é€‰é¤å… | æ ¹æ®åŒºåŸŸæˆ–ç¾é£Ÿç±»å‹ç­›é€‰é¤å…æ˜¾ç¤º |
| æœç´¢é¤å… | æ ¹æ®é¤å…åç§°æˆ–æè¿°æœç´¢ |
| é™„è¿‘é¤å…æŸ¥è¯¢ | æŸ¥è¯¢ç”¨æˆ·å½“å‰ä½ç½®é™„è¿‘çš„é¤å… |
| åŒºåŸŸå†…é¤å…æŸ¥è¯¢ | æŸ¥è¯¢åœ°å›¾å¯è§†åŒºåŸŸå†…çš„é¤å… |
| è·ç¦»æ’åº | æ ¹æ®ä¸å½“å‰ä½ç½®çš„è·ç¦»æ’åºé¤å… |
| åœ°ç†ç»Ÿè®¡ | å±•ç¤ºå„åŒºåŸŸé¤å…åˆ†å¸ƒæ•°é‡ |
| ç”¨æˆ·è¯„ä»· | æ˜¾ç¤ºé¤å…çš„ç”¨æˆ·è¯„ä»·ä¿¡æ¯ |
| æäº¤è¯„ä»· | å…è®¸ç”¨æˆ·ä¸ºé¤å…æäº¤è¯„åˆ†å’Œè¯„ä»· |

## ç©ºé—´æ•°æ®æ ¼å¼

### GeoJSON

åœ°ç†ä½ç½®æ•°æ®ä»¥GeoJSONæ ¼å¼è¿”å›ï¼š

```json
{
  "type": "Point",
  "coordinates": [114.3008, 30.5433]
}
```

åæ ‡ç³»ç»Ÿä½¿ç”¨WGS84 (EPSG:4326)ï¼Œä¸Mapbox GL JSå…¼å®¹ã€‚